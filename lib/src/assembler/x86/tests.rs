/*
 * Permission is hereby granted, free of charge, to any human obtaining a copy of this software and associated documentation files
 * (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify,
 * merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit humans to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
 * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */
use super::{super::*,­ЮЌ«­ЮЌ▒­ЮЌ▒­ЮЌ┐­ЮЌ▓­Юўђ­Юўђ,­ЮЌ»­ЮЌ«­Юўђ­ЮЌХ­ЮЌ░_­ЮЌ«­Юўђ­Юўђ­ЮЌ▓­ЮЌ║­ЮЌ»­ЮЌ╣­ЮЌ▓­ЮЌ┐,­ЮЌ▓­ЮЌ║­ЮЌХ­ЮўЂ_­ЮЌХ­ЮЌ╗­Юўђ­ЮўЂ­ЮЌ┐­Юўѓ­ЮЌ░­ЮўЂ­ЮЌХ­ЮЌ╝­ЮЌ╗_­ЮЌ»­Юўє­ЮўЂ­ЮЌ▓­Юўђ};

struct ­ЮљГ­Юљъ­Юљг­ЮљГ_­Юљъ­Юљд­Юљб­ЮљГ­ЮљГ­Юљъ­ЮљФ {
    ­Юќ╝­ЮЌѕ­ЮЌЄ­ЮЌЇ­ЮќЙ­ЮЌЄ­ЮЌЇ: Vec<u8>,
}

impl ­ЮљГ­Юљъ­Юљг­ЮљГ_­Юљъ­Юљд­Юљб­ЮљГ­ЮљГ­Юљъ­ЮљФ {
    pub const fn new() -> Self {
        ­ЮљГ­Юљъ­Юљг­ЮљГ_­Юљъ­Юљд­Юљб­ЮљГ­ЮљГ­Юљъ­ЮљФ {
            ­Юќ╝­ЮЌѕ­ЮЌЄ­ЮЌЇ­ЮќЙ­ЮЌЄ­ЮЌЇ: Vec::<u8>::new(),
        }
    }
}

impl ­ЮњЃ­Юњџ­ЮњЋ­Юњє_­Юњє­Юњј­Юњі­ЮњЋ­ЮњЋ­Юњє­ЮњЊ for ­ЮљГ­Юљъ­Юљг­ЮљГ_­Юљъ­Юљд­Юљб­ЮљГ­ЮљГ­Юљъ­ЮљФ {
    type ­ЮљФ­Юљъ­Юљг­Юљ«­ЮљЦ­ЮљГ_­ЮљГ­Юљ▓­ЮљЕ­Юљъ = ();
    type ­Юљъ­ЮљФ­ЮљФ­Юље­ЮљФ_­ЮљГ­Юљ▓­ЮљЕ­Юљъ = ();

    fn emit_u8(&mut self, value: u8) -> Result<(), ()> {
        self.­Юќ╝­ЮЌѕ­ЮЌЄ­ЮЌЇ­ЮќЙ­ЮЌЄ­ЮЌЇ.push(value);
        Ok(())
    }
}

#[allow(non_upper_case_globals)]
pub(crate) trait ­Юњѓ­ЮњЁ­ЮњЁ_­Юњљ­ЮњЉ­Юњё­Юњљ­ЮњЁ­Юњє<const ­ЮЊИ­ЮЊ╣­ЮЊг­ЮЊИ­ЮЊГ­ЮЊ«: u8> {
    type ­ЮљГ­Юљџ­ЮљФ­Юља­Юљъ­ЮљГ;
}

#[allow(non_upper_case_globals)]
impl<
    ­ЮЊ╝­ЮЊ«­ЮЊ░­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй_­ЮЊ╣­ЮЊ╗­ЮЊ«­ЮЊ»­ЮЊ▓­ЮћЂ,
    ­ЮЊГ­ЮЊф­ЮЊй­ЮЊф_­ЮЊ╝­ЮЊ▓­ЮћЃ­ЮЊ«_­ЮЊ╣­ЮЊ╗­ЮЊ«­ЮЊ»­ЮЊ▓­ЮћЂ,
    ­ЮЊф­ЮЊГ­ЮЊГ­ЮЊ╗­ЮЊ«­ЮЊ╝­ЮЊ╝_­ЮЊ╝­ЮЊ▓­ЮћЃ­ЮЊ«_­ЮЊ╣­ЮЊ╗­ЮЊ«­ЮЊ»­ЮЊ▓­ЮћЂ,
    ­ЮЊ╗­ЮЊ«­ЮЊ╣РѓЊ_­ЮЊ╣­ЮЊ╗­ЮЊ«­ЮЊ»­ЮЊ▓­ЮћЂ,
    ­ЮЊх­ЮЊИ­ЮЊг­ЮЊ┤_­ЮЊ╣­ЮЊ╗­ЮЊ«­ЮЊ»­ЮЊ▓­ЮћЂ,
    ­ЮћЂ­ЮЪг­ЮЌЎ_­ЮЊ╣­ЮЊ╗­ЮЊ«­ЮЊ»­ЮЊ▓­ЮћЂ,
    ­ЮћЂ­ЮЪ»­ЮўЁ_­ЮЊ╣­ЮЊ╗­ЮЊ«­ЮЊ»­ЮЊ▓­ЮћЂ,
    ­ЮЊ▓­ЮЊХ­ЮЊХ­ЮЊ«­ЮЊГ­ЮЊ▓­ЮЊф­ЮЊй­ЮЊ«_­ЮЊИ­ЮЊ╣­ЮЊг­ЮЊИ­ЮЊГ­ЮЊ«,
    const ­ЮЊИ­ЮЊ╣­ЮЊг­ЮЊИ­ЮЊГ­ЮЊ«: u8,
>
­Юњѓ­ЮњЁ­ЮњЁ_­Юњљ­ЮњЉ­Юњё­Юњљ­ЮњЁ­Юњє<­ЮЊИ­ЮЊ╣­ЮЊг­ЮЊИ­ЮЊГ­ЮЊ«>
    for ­ЮЌ▓­ЮЌ║­ЮЌХ­ЮўЂ_­ЮЌХ­ЮЌ╗­Юўђ­ЮўЂ­ЮЌ┐­Юўѓ­ЮЌ░­ЮўЂ­ЮЌХ­ЮЌ╝­ЮЌ╗_­ЮЌ»­Юўє­ЮўЂ­ЮЌ▓­Юўђ::­ЮљЦ­Юљъ­Юља­Юљџ­Юљю­Юљ▓_­Юљб­ЮљД­Юљг­ЮљГ­ЮљФ­Юљ«­Юљю­ЮљГ­Юљб­Юље­ЮљД<
        ­ЮЊ╝­ЮЊ«­ЮЊ░­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй_­ЮЊ╣­ЮЊ╗­ЮЊ«­ЮЊ»­ЮЊ▓­ЮћЂ,
        ­ЮЊГ­ЮЊф­ЮЊй­ЮЊф_­ЮЊ╝­ЮЊ▓­ЮћЃ­ЮЊ«_­ЮЊ╣­ЮЊ╗­ЮЊ«­ЮЊ»­ЮЊ▓­ЮћЂ,
        ­ЮЊф­ЮЊГ­ЮЊГ­ЮЊ╗­ЮЊ«­ЮЊ╝­ЮЊ╝_­ЮЊ╝­ЮЊ▓­ЮћЃ­ЮЊ«_­ЮЊ╣­ЮЊ╗­ЮЊ«­ЮЊ»­ЮЊ▓­ЮћЂ,
        ­ЮЊ╗­ЮЊ«­ЮЊ╣РѓЊ_­ЮЊ╣­ЮЊ╗­ЮЊ«­ЮЊ»­ЮЊ▓­ЮћЂ,
        ­ЮЊх­ЮЊИ­ЮЊг­ЮЊ┤_­ЮЊ╣­ЮЊ╗­ЮЊ«­ЮЊ»­ЮЊ▓­ЮћЂ,
        ­ЮћЂ­ЮЪг­ЮЌЎ_­ЮЊ╣­ЮЊ╗­ЮЊ«­ЮЊ»­ЮЊ▓­ЮћЂ,
        ­ЮћЂ­ЮЪ»­ЮўЁ_­ЮЊ╣­ЮЊ╗­ЮЊ«­ЮЊ»­ЮЊ▓­ЮћЂ,
        ­ЮЌ▓­ЮЌ║­ЮЌХ­ЮўЂ_­ЮЌХ­ЮЌ╗­Юўђ­ЮўЂ­ЮЌ┐­Юўѓ­ЮЌ░­ЮўЂ­ЮЌХ­ЮЌ╝­ЮЌ╗_­ЮЌ»­Юўє­ЮўЂ­ЮЌ▓­Юўђ::­ЮљД­Юље_­ЮљЕ­ЮљФ­Юљъ­ЮљЪ­Юљб­Юљ▒,
        ­ЮЊ▓­ЮЊХ­ЮЊХ­ЮЊ«­ЮЊГ­ЮЊ▓­ЮЊф­ЮЊй­ЮЊ«_­ЮЊИ­ЮЊ╣­ЮЊг­ЮЊИ­ЮЊГ­ЮЊ«,
    >
{
    type ­ЮљГ­Юљџ­ЮљФ­Юља­Юљъ­ЮљГ = ­ЮЌ▓­ЮЌ║­ЮЌХ­ЮўЂ_­ЮЌХ­ЮЌ╗­Юўђ­ЮўЂ­ЮЌ┐­Юўѓ­ЮЌ░­ЮўЂ­ЮЌХ­ЮЌ╝­ЮЌ╗_­ЮЌ»­Юўє­ЮўЂ­ЮЌ▓­Юўђ::­ЮљЦ­Юљъ­Юља­Юљџ­Юљю­Юљ▓_­Юљб­ЮљД­Юљг­ЮљГ­ЮљФ­Юљ«­Юљю­ЮљГ­Юљб­Юље­ЮљД<
        ­ЮЊ╝­ЮЊ«­ЮЊ░­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй_­ЮЊ╣­ЮЊ╗­ЮЊ«­ЮЊ»­ЮЊ▓­ЮћЂ,
        ­ЮЊГ­ЮЊф­ЮЊй­ЮЊф_­ЮЊ╝­ЮЊ▓­ЮћЃ­ЮЊ«_­ЮЊ╣­ЮЊ╗­ЮЊ«­ЮЊ»­ЮЊ▓­ЮћЂ,
        ­ЮЊф­ЮЊГ­ЮЊГ­ЮЊ╗­ЮЊ«­ЮЊ╝­ЮЊ╝_­ЮЊ╝­ЮЊ▓­ЮћЃ­ЮЊ«_­ЮЊ╣­ЮЊ╗­ЮЊ«­ЮЊ»­ЮЊ▓­ЮћЂ,
        ­ЮЊ╗­ЮЊ«­ЮЊ╣РѓЊ_­ЮЊ╣­ЮЊ╗­ЮЊ«­ЮЊ»­ЮЊ▓­ЮћЂ,
        ­ЮЊх­ЮЊИ­ЮЊг­ЮЊ┤_­ЮЊ╣­ЮЊ╗­ЮЊ«­ЮЊ»­ЮЊ▓­ЮћЂ,
        ­ЮћЂ­ЮЪг­ЮЌЎ_­ЮЊ╣­ЮЊ╗­ЮЊ«­ЮЊ»­ЮЊ▓­ЮћЂ,
        ­ЮћЂ­ЮЪ»­ЮўЁ_­ЮЊ╣­ЮЊ╗­ЮЊ«­ЮЊ»­ЮЊ▓­ЮћЂ,
        ­ЮЌ▓­ЮЌ║­ЮЌХ­ЮўЂ_­ЮЌХ­ЮЌ╗­Юўђ­ЮўЂ­ЮЌ┐­Юўѓ­ЮЌ░­ЮўЂ­ЮЌХ­ЮЌ╝­ЮЌ╗_­ЮЌ»­Юўє­ЮўЂ­ЮЌ▓­Юўђ::­Юљб­ЮљД­Юљг­ЮљГ­ЮљФ­Юљ«­Юљю­ЮљГ­Юљб­Юље­ЮљД_­ЮљЏ­Юљ▓­ЮљГ­Юљъ<­ЮЊИ­ЮЊ╣­ЮЊг­ЮЊИ­ЮЊГ­ЮЊ«>,
        ­ЮЊ▓­ЮЊХ­ЮЊХ­ЮЊ«­ЮЊГ­ЮЊ▓­ЮЊф­ЮЊй­ЮЊ«_­ЮЊИ­ЮЊ╣­ЮЊг­ЮЊИ­ЮЊГ­ЮЊ«,
    >;
}


#[test]
fn test_add_­Юћъ­ЮћЕ_­Юћъ­ЮћЕ() {
    use ­ЮЌХ­ЮЌ«­ЮЪ»­ЮЪ«::­ЮЉф­ЮЉи­ЮЉ╝;
    type ­Юљџ­Юљг­Юљг­Юљъ­Юљд­ЮљЏ­ЮљЦ­Юљъ­ЮљФ_16рхЄРЂ▒рхЌ =
        ­ЮЌХ­ЮЌ«­ЮЪ»­ЮЪ«::­ЮљЏ­Юљџ­Юљг­Юљб­Юљю_­Юљџ­Юљг­Юљг­Юљъ­Юљд­ЮљЏ­ЮљЦ­Юљъ­ЮљФ_­Юћъ­ЮћА­ЮћА­Юћ»16_­ЮћА­Юћъ­Юћ▒­Юћъ16<'static, ­ЮљГ­Юљъ­Юљг­ЮљГ_­Юљъ­Юљд­Юљб­ЮљГ­ЮљГ­Юљъ­ЮљФ>;
    let mut raw_emitter = ­ЮљГ­Юљъ­Юљг­ЮљГ_­Юљъ­Юљд­Юљб­ЮљГ­ЮљГ­Юљъ­ЮљФ::new();
    ­ЮЌХ­ЮЌ«­ЮЪ»­ЮЪ«::­ЮљЏ­Юљџ­Юљг­Юљб­Юљю_­Юљџ­Юљг­Юљг­Юљъ­Юљд­ЮљЏ­ЮљЦ­Юљъ­ЮљФ_­Юћъ­ЮћА­ЮћА­Юћ»16_­ЮћА­Юћъ­Юћ▒­Юћъ16::from(&mut raw_emitter)
        .add((­Юљџ­Юљг­Юљг­Юљъ­Юљд­ЮљЏ­ЮљЦ­Юљъ­ЮљФ_16рхЄРЂ▒рхЌ::­Юћъ­ЮћЕ, ­Юљџ­Юљг­Юљг­Юљъ­Юљд­ЮљЏ­ЮљЦ­Юљъ­ЮљФ_16рхЄРЂ▒рхЌ::­Юћъ­ЮћЕ))
        .expect("Testing assembler");
    assert_eq!(&[0x00, 0xc0], &raw_emitter.­Юќ╝­ЮЌѕ­ЮЌЄ­ЮЌЇ­ЮќЙ­ЮЌЄ­ЮЌЇ[0..raw_emitter.­Юќ╝­ЮЌѕ­ЮЌЄ­ЮЌЇ­ЮќЙ­ЮЌЄ­ЮЌЇ.len()]);
}

#[test]
fn test_add_­Юћъ­ЮћЕ_­Юћъ­ЮћА­ЮћА­Юћ»­Юћб­Юћ░­Юћ░_16рхЄРЂ▒рхЌ_­ЮћЪ­Юћх_­Юћ░­Юћд() {
    use ­ЮЌХ­ЮЌ«­ЮЪ»­ЮЪ«::­ЮЉф­ЮЉи­ЮЉ╝;
    type ­Юљџ­Юљг­Юљг­Юљъ­Юљд­ЮљЏ­ЮљЦ­Юљъ­ЮљФ_16рхЄРЂ▒рхЌ =
        ­ЮЌХ­ЮЌ«­ЮЪ»­ЮЪ«::­ЮљЏ­Юљџ­Юљг­Юљб­Юљю_­Юљџ­Юљг­Юљг­Юљъ­Юљд­ЮљЏ­ЮљЦ­Юљъ­ЮљФ_­Юћъ­ЮћА­ЮћА­Юћ»16_­ЮћА­Юћъ­Юћ▒­Юћъ16<'static, ­ЮљГ­Юљъ­Юљг­ЮљГ_­Юљъ­Юљд­Юљб­ЮљГ­ЮљГ­Юљъ­ЮљФ>;
    let mut raw_emitter = ­ЮљГ­Юљъ­Юљг­ЮљГ_­Юљъ­Юљд­Юљб­ЮљГ­ЮљГ­Юљъ­ЮљФ::new();
    ­ЮЌХ­ЮЌ«­ЮЪ»­ЮЪ«::­ЮљЏ­Юљџ­Юљг­Юљб­Юљю_­Юљџ­Юљг­Юљг­Юљъ­Юљд­ЮљЏ­ЮљЦ­Юљъ­ЮљФ_­Юћъ­ЮћА­ЮћА­Юћ»16_­ЮћА­Юћъ­Юћ▒­Юћъ16::from(&mut raw_emitter)
        .add((
            ­Юљџ­Юљг­Юљг­Юљъ­Юљд­ЮљЏ­ЮљЦ­Юљъ­ЮљФ_16рхЄРЂ▒рхЌ::­Юћъ­ЮћЕ,
            ­ЮЌХ­ЮЌ«­ЮЪ»­ЮЪ«::­Юћъ­ЮћА­ЮћА­Юћ»­Юћб­Юћ░­Юћ░_16рхЄРЂ▒рхЌ
                .with_base(­Юљџ­Юљг­Юљг­Юљъ­Юљд­ЮљЏ­ЮљЦ­Юљъ­ЮљФ_16рхЄРЂ▒рхЌ::­ЮћЪ­Юћх)
                .with_index(­Юљџ­Юљг­Юљг­Юљъ­Юљд­ЮљЏ­ЮљЦ­Юљъ­ЮљФ_16рхЄРЂ▒рхЌ::­Юћ░­Юћд)
                .with_disp(0x1234i16),
        ))
        .expect("Testing assembler");
    assert_eq!(
        &[0x02, 0x80, 0x34, 0x12],
        &raw_emitter.­Юќ╝­ЮЌѕ­ЮЌЄ­ЮЌЇ­ЮќЙ­ЮЌЄ­ЮЌЇ[0..raw_emitter.­Юќ╝­ЮЌѕ­ЮЌЄ­ЮЌЇ­ЮќЙ­ЮЌЄ­ЮЌЇ.len()]
    );
}

#[test]
fn test_add_­Юћъ­ЮћЕ_­Юћъ­ЮћА­ЮћА­Юћ»­Юћб­Юћ░­Юћ░_32рхЄРЂ▒рхЌ_­Юћб­Юћ░­ЮћГ_­Юћб­ЮћЪ­ЮћГ() {
    use ­ЮЌХ­ЮЌ«­ЮЪ»­ЮЪ«::­ЮЉф­ЮЉи­ЮЉ╝;
    type ­Юљџ­Юљг­Юљг­Юљъ­Юљд­ЮљЏ­ЮљЦ­Юљъ­ЮљФ_16рхЄРЂ▒рхЌ =
        ­ЮЌХ­ЮЌ«­ЮЪ»­ЮЪ«::­ЮљЏ­Юљџ­Юљг­Юљб­Юљю_­Юљџ­Юљг­Юљг­Юљъ­Юљд­ЮљЏ­ЮљЦ­Юљъ­ЮљФ_­Юћъ­ЮћА­ЮћА­Юћ»16_­ЮћА­Юћъ­Юћ▒­Юћъ16<'static, ­ЮљГ­Юљъ­Юљг­ЮљГ_­Юљъ­Юљд­Юљб­ЮљГ­ЮљГ­Юљъ­ЮљФ>;
    let mut raw_emitter = ­ЮљГ­Юљъ­Юљг­ЮљГ_­Юљъ­Юљд­Юљб­ЮљГ­ЮљГ­Юљъ­ЮљФ::new();
    ­ЮЌХ­ЮЌ«­ЮЪ»­ЮЪ«::­ЮљЏ­Юљџ­Юљг­Юљб­Юљю_­Юљџ­Юљг­Юљг­Юљъ­Юљд­ЮљЏ­ЮљЦ­Юљъ­ЮљФ_­Юћъ­ЮћА­ЮћА­Юћ»16_­ЮћА­Юћъ­Юћ▒­Юћъ16::from(&mut raw_emitter)
        .add((
            ­Юљџ­Юљг­Юљг­Юљъ­Юљд­ЮљЏ­ЮљЦ­Юљъ­ЮљФ_16рхЄРЂ▒рхЌ::­Юћъ­ЮћЕ,
            ­ЮЌХ­ЮЌ«­ЮЪ»­ЮЪ«::­Юћъ­ЮћА­ЮћА­Юћ»­Юћб­Юћ░­Юћ░_32рхЄРЂ▒рхЌ
                .with_base(­Юљџ­Юљг­Юљг­Юљъ­Юљд­ЮљЏ­ЮљЦ­Юљъ­ЮљФ_16рхЄРЂ▒рхЌ::­Юћб­Юћ░­ЮћГ)
                .with_index(­Юљџ­Юљг­Юљг­Юљъ­Юљд­ЮљЏ­ЮљЦ­Юљъ­ЮљФ_16рхЄРЂ▒рхЌ::­Юћб­ЮћЪ­ЮћГ)
                .with_disp(0x12345678),
        ))
        .expect("Testing assembler");
    assert_eq!(
        &[0x67, 0x02, 0x84, 0x2c, 0x78, 0x56, 0x34, 0x12],
        &raw_emitter.­Юќ╝­ЮЌѕ­ЮЌЄ­ЮЌЇ­ЮќЙ­ЮЌЄ­ЮЌЇ[0..raw_emitter.­Юќ╝­ЮЌѕ­ЮЌЄ­ЮЌЇ­ЮќЙ­ЮЌЄ­ЮЌЇ.len()]
    );
}

#[test]
fn test_add_­Юћъ­ЮћЕ_­Юћъ­ЮћА­ЮћА­Юћ»­Юћб­Юћ░­Юћ░_64рхЄРЂ▒рхЌ_­Юћб­Юћ░­ЮћГ_­Юћб­ЮћЪ­ЮћГ() {
    use ­ЮўЁ­ЮЪ┤­ЮЪ▓_­ЮЪ▓­ЮЪ░::­ЮЉф­ЮЉи­ЮЉ╝;
    type ­Юљџ­Юљг­Юљг­Юљъ­Юљд­ЮљЏ­ЮљЦ­Юљъ­ЮљФ_64рхЄРЂ▒рхЌ =
        ­ЮўЁ­ЮЪ┤­ЮЪ▓_­ЮЪ▓­ЮЪ░::­ЮљЏ­Юљџ­Юљг­Юљб­Юљю_­Юљџ­Юљг­Юљг­Юљъ­Юљд­ЮљЏ­ЮљЦ­Юљъ­ЮљФ_­Юћъ­ЮћА­ЮћА­Юћ»64_­ЮћА­Юћъ­Юћ▒­Юћъ32<'static, ­ЮљГ­Юљъ­Юљг­ЮљГ_­Юљъ­Юљд­Юљб­ЮљГ­ЮљГ­Юљъ­ЮљФ>;
    let mut raw_emitter = ­ЮљГ­Юљъ­Юљг­ЮљГ_­Юљъ­Юљд­Юљб­ЮљГ­ЮљГ­Юљъ­ЮљФ::new();
    ­ЮўЁ­ЮЪ┤­ЮЪ▓_­ЮЪ▓­ЮЪ░::­ЮљЏ­Юљџ­Юљг­Юљб­Юљю_­Юљџ­Юљг­Юљг­Юљъ­Юљд­ЮљЏ­ЮљЦ­Юљъ­ЮљФ_­Юћъ­ЮћА­ЮћА­Юћ»64_­ЮћА­Юћъ­Юћ▒­Юћъ32::from(&mut raw_emitter)
        .add((
            ­Юљџ­Юљг­Юљг­Юљъ­Юљд­ЮљЏ­ЮљЦ­Юљъ­ЮљФ_64рхЄРЂ▒рхЌ::­Юћъ­ЮћЕ,
            ­ЮўЁ­ЮЪ┤­ЮЪ▓_­ЮЪ▓­ЮЪ░::­Юћъ­ЮћА­ЮћА­Юћ»­Юћб­Юћ░­Юћ░_32рхЄРЂ▒рхЌ
                .with_base(­Юљџ­Юљг­Юљг­Юљъ­Юљд­ЮљЏ­ЮљЦ­Юљъ­ЮљФ_64рхЄРЂ▒рхЌ::­Юћб­Юћ░­ЮћГ)
                .with_index(­Юљџ­Юљг­Юљг­Юљъ­Юљд­ЮљЏ­ЮљЦ­Юљъ­ЮљФ_64рхЄРЂ▒рхЌ::­Юћб­ЮћЪ­ЮћГ)
                .with_disp(0x12345678),
        ))
        .expect("Testing assembler");
    assert_eq!(
        &[0x67, 0x02, 0x84, 0x2c, 0x78, 0x56, 0x34, 0x12],
        &raw_emitter.­Юќ╝­ЮЌѕ­ЮЌЄ­ЮЌЇ­ЮќЙ­ЮЌЄ­ЮЌЇ[0..raw_emitter.­Юќ╝­ЮЌѕ­ЮЌЄ­ЮЌЇ­ЮќЙ­ЮЌЄ­ЮЌЇ.len()]
    );
}

// This takes takes few second without miri but few hours when miri is used.
// And there are no unsafe code in it so just skip it on miri.
#[cfg(not(miri))]
#[test]
fn test_emit_legacy_instruction_sanity() {
    macro_rules! ­Юќі­ЮќЊ­Юќџ­Юќњ_­ЮќЉ­Юќј­Юќў­ЮќЎ {
        ($­ЮЊ«­ЮЊи­ЮЊЙ­ЮЊХ_­ЮЊй­Юћѓ­ЮЊ╣­ЮЊ«:ty[­ЮћФ­Юћг­ЮћФ­Юћб, $($­ЮЊ«­ЮЊи­ЮЊЙ­ЮЊХ_­ЮЊ┐­ЮЊф­ЮЊх­ЮЊЙ­ЮЊ«:ident),*]) => {
            [None, $(Some(<$­ЮЊ«­ЮЊи­ЮЊЙ­ЮЊХ_­ЮЊй­Юћѓ­ЮЊ╣­ЮЊ«>::$­ЮЊ«­ЮЊи­ЮЊЙ­ЮЊХ_­ЮЊ┐­ЮЊф­ЮЊх­ЮЊЙ­ЮЊ«)),*]
        };
        ($­ЮЊ«­ЮЊи­ЮЊЙ­ЮЊХ_­ЮЊй­Юћѓ­ЮЊ╣­ЮЊ«:ty[$($­ЮЊ«­ЮЊи­ЮЊЙ­ЮЊХ_­ЮЊ┐­ЮЊф­ЮЊх­ЮЊЙ­ЮЊ«:ident),*]) => {
            [$(<$­ЮЊ«­ЮЊи­ЮЊЙ­ЮЊХ_­ЮЊй­Юћѓ­ЮЊ╣­ЮЊ«>::$­ЮЊ«­ЮЊи­ЮЊЙ­ЮЊХ_­ЮЊ┐­ЮЊф­ЮЊх­ЮЊЙ­ЮЊ«),*]
        }
    }

    macro_rules! ­ЮќЏ­Юќі­ЮќЌ­Юќј­ЮќІ­Юќъ_­Юќі­Юќњ­Юќј­ЮќЎ­ЮќЎ­Юќі­ЮќЌ {
        ($­ЮЊФ­ЮЊф­ЮЊ╝­ЮЊ«_­ЮЊ»­ЮЊЙ­ЮЊи­ЮЊг­ЮЊй­ЮЊ▓­ЮЊИ­ЮЊи:ident,
         [$($­ЮЊГ­ЮЊ«­ЮЊ╗­ЮЊ▓­ЮЊ┐­ЮЊ«­ЮЊГ_­ЮЊ»­ЮЊЙ­ЮЊи­ЮЊг­ЮЊй­ЮЊ▓­ЮЊИ­ЮЊи:ident [$($­ЮЊ«­ЮћЂ­ЮЊй­ЮЊ╗­ЮЊф_­ЮЊ«­ЮЊХ­ЮЊ▓­ЮЊй:tt)*] [$($­ЮЊ«­ЮћЂ­ЮЊй­ЮЊ╗­ЮЊф_­ЮЊф­ЮЊ╗­ЮЊ░­ЮЊЙ­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй­ЮЊ╝:tt)*]),*],
         $­ЮЊ╗­ЮЊ«­ЮЊ░_­ЮЊф­ЮЊ╗­ЮЊ░­ЮЊЙ­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй:ident, $­ЮЊ╗­ЮЊХ_­ЮЊф­ЮЊ╗­ЮЊ░­ЮЊЙ­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй:ident
        ) => {
            $(
                let emitter1 = &mut ­ЮљГ­Юљъ­Юљг­ЮљГ_­Юљъ­Юљд­Юљб­ЮљГ­ЮљГ­Юљъ­ЮљФ::new();
                let emitter2 = &mut ­ЮљГ­Юљъ­Юљг­ЮљГ_­Юљъ­Юљд­Юљб­ЮљГ­ЮљГ­Юљъ­ЮљФ::new();
                <­ЮљГ­Юљъ­Юљг­ЮљГ_­Юљъ­Юљд­Юљб­ЮљГ­ЮљГ­Юљъ­ЮљФ as ­ЮЌ▓­ЮЌ║­ЮЌХ­ЮўЂ_­ЮЌХ­ЮЌ╗­Юўђ­ЮўЂ­ЮЌ┐­Юўѓ­ЮЌ░­ЮўЂ­ЮЌХ­ЮЌ╝­ЮЌ╗_­ЮЌ»­Юўє­ЮўЂ­ЮЌ▓­Юўђ::­Юњє­Юњј­Юњі­ЮњЋ_­Юњі­ЮњЈ­Юњћ­ЮњЋ­ЮњЊ­Юњќ­Юњё­ЮњЋ­Юњі­Юњљ­ЮњЈ<
                    <­ЮЌ▓­ЮЌ║­ЮЌХ­ЮўЂ_­ЮЌХ­ЮЌ╗­Юўђ­ЮўЂ­ЮЌ┐­Юўѓ­ЮЌ░­ЮўЂ­ЮЌХ­ЮЌ╝­ЮЌ╗_­ЮЌ»­Юўє­ЮўЂ­ЮЌ▓­Юўђ::­ЮљЦ­Юљъ­Юља­Юљџ­Юљю­Юљ▓_­Юљб­ЮљД­Юљг­ЮљГ­ЮљФ­Юљ«­Юљю­ЮљГ­Юљб­Юље­ЮљД as ­Юњѓ­ЮњЁ­ЮњЁ_­Юњљ­ЮњЉ­Юњё­Юњљ­ЮњЁ­Юњє<0x00>>::­ЮљГ­Юљџ­ЮљФ­Юља­Юљъ­ЮљГ>>::
                    $­ЮЊФ­ЮЊф­ЮЊ╝­ЮЊ«_­ЮЊ»­ЮЊЙ­ЮЊи­ЮЊг­ЮЊй­ЮЊ▓­ЮЊИ­ЮЊи(
                        emitter1,
                            $­ЮЊ╗­ЮЊ«­ЮЊ░_­ЮЊф­ЮЊ╗­ЮЊ░­ЮЊЙ­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй,
                            $­ЮЊ╗­ЮЊХ_­ЮЊф­ЮЊ╗­ЮЊ░­ЮЊЙ­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй)
                    .expect("Testing assembler");
                emitter1.$($­ЮЊ«­ЮћЂ­ЮЊй­ЮЊ╗­ЮЊф_­ЮЊ«­ЮЊХ­ЮЊ▓­ЮЊй)*.expect("Testing assembler");
                <­ЮљГ­Юљъ­Юљг­ЮљГ_­Юљъ­Юљд­Юљб­ЮљГ­ЮљГ­Юљъ­ЮљФ as ­ЮЌ▓­ЮЌ║­ЮЌХ­ЮўЂ_­ЮЌХ­ЮЌ╗­Юўђ­ЮўЂ­ЮЌ┐­Юўѓ­ЮЌ░­ЮўЂ­ЮЌХ­ЮЌ╝­ЮЌ╗_­ЮЌ»­Юўє­ЮўЂ­ЮЌ▓­Юўђ::­Юњє­Юњј­Юњі­ЮњЋ_­Юњі­ЮњЈ­Юњћ­ЮњЋ­ЮњЊ­Юњќ­Юњё­ЮњЋ­Юњі­Юњљ­ЮњЈ<
                    <­ЮЌ▓­ЮЌ║­ЮЌХ­ЮўЂ_­ЮЌХ­ЮЌ╗­Юўђ­ЮўЂ­ЮЌ┐­Юўѓ­ЮЌ░­ЮўЂ­ЮЌХ­ЮЌ╝­ЮЌ╗_­ЮЌ»­Юўє­ЮўЂ­ЮЌ▓­Юўђ::­ЮљЦ­Юљъ­Юља­Юљџ­Юљю­Юљ▓_­Юљб­ЮљД­Юљг­ЮљГ­ЮљФ­Юљ«­Юљю­ЮљГ­Юљб­Юље­ЮљД as ­Юњѓ­ЮњЁ­ЮњЁ_­Юњљ­ЮњЉ­Юњё­Юњљ­ЮњЁ­Юњє<0x00>>::­ЮљГ­Юљџ­ЮљФ­Юља­Юљъ­ЮљГ>>::
                    $­ЮЊГ­ЮЊ«­ЮЊ╗­ЮЊ▓­ЮЊ┐­ЮЊ«­ЮЊГ_­ЮЊ»­ЮЊЙ­ЮЊи­ЮЊг­ЮЊй­ЮЊ▓­ЮЊИ­ЮЊи(
                        emitter2,
                            $­ЮЊ╗­ЮЊ«­ЮЊ░_­ЮЊф­ЮЊ╗­ЮЊ░­ЮЊЙ­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй,
                            $­ЮЊ╗­ЮЊХ_­ЮЊф­ЮЊ╗­ЮЊ░­ЮЊЙ­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй,
                            $($­ЮЊ«­ЮћЂ­ЮЊй­ЮЊ╗­ЮЊф_­ЮЊф­ЮЊ╗­ЮЊ░­ЮЊЙ­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй­ЮЊ╝)*)
                    .expect("Testing assembler");
                assert_eq!(
                    &emitter1.­Юќ╝­ЮЌѕ­ЮЌЄ­ЮЌЇ­ЮќЙ­ЮЌЄ­ЮЌЇ[0..emitter1.­Юќ╝­ЮЌѕ­ЮЌЄ­ЮЌЇ­ЮќЙ­ЮЌЄ­ЮЌЇ.len()],
                    &emitter2.­Юќ╝­ЮЌѕ­ЮЌЄ­ЮЌЇ­ЮќЙ­ЮЌЄ­ЮЌЇ[0..emitter2.­Юќ╝­ЮЌѕ­ЮЌЄ­ЮЌЇ­ЮќЙ­ЮЌЄ­ЮЌЇ.len()]
                );
             )*
        };
        ($­ЮЊФ­ЮЊф­ЮЊ╝­ЮЊ«_­ЮЊ»­ЮЊЙ­ЮЊи­ЮЊг­ЮЊй­ЮЊ▓­ЮЊИ­ЮЊи:ident,
         [$($­ЮЊГ­ЮЊ«­ЮЊ╗­ЮЊ▓­ЮЊ┐­ЮЊ«­ЮЊГ_­ЮЊ»­ЮЊЙ­ЮЊи­ЮЊг­ЮЊй­ЮЊ▓­ЮЊИ­ЮЊи:ident [$($­ЮЊ«­ЮћЂ­ЮЊй­ЮЊ╗­ЮЊф_­ЮЊ«­ЮЊХ­ЮЊ▓­ЮЊй:tt)*] [$($­ЮЊ«­ЮћЂ­ЮЊй­ЮЊ╗­ЮЊф_­ЮЊф­ЮЊ╗­ЮЊ░­ЮЊЙ­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй­ЮЊ╝:tt)*]),*], $­ЮЊ╗­ЮЊ«­ЮЊ░_­ЮЊф­ЮЊ╗­ЮЊ░­ЮЊЙ­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй:ident,
         ­Юњѓ­ЮњЁ­ЮњЁ­ЮњЊ­Юњє­Юњћ­Юњћ_8086<$­ЮЊ╝­ЮЊ«­ЮЊ░­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй_­ЮЊф­ЮЊ╗­ЮЊ░­ЮЊЙ­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй:ident $­ЮЊФ­ЮЊф­ЮЊ╝­ЮЊ«_­ЮЊф­ЮЊ╗­ЮЊ░­ЮЊЙ­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй:ident $­ЮЊ▓­ЮЊи­ЮЊГ­ЮЊ«­ЮћЂ_­ЮЊф­ЮЊ╗­ЮЊ░­ЮЊЙ­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй:ident $­ЮЊГ­ЮЊ▓­ЮЊ╝­ЮЊ╣_­ЮЊф­ЮЊ╗­ЮЊ░­ЮЊЙ­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй:ident>
        ) => {
            $(
                let emitter1 = &mut ­ЮљГ­Юљъ­Юљг­ЮљГ_­Юљъ­Юљд­Юљб­ЮљГ­ЮљГ­Юљъ­ЮљФ::new();
                let emitter2 = &mut ­ЮљГ­Юљъ­Юљг­ЮљГ_­Юљъ­Юљд­Юљб­ЮљГ­ЮљГ­Юљъ­ЮљФ::new();
                <­ЮљГ­Юљъ­Юљг­ЮљГ_­Юљъ­Юљд­Юљб­ЮљГ­ЮљГ­Юљъ­ЮљФ as ­ЮЌ▓­ЮЌ║­ЮЌХ­ЮўЂ_­ЮЌХ­ЮЌ╗­Юўђ­ЮўЂ­ЮЌ┐­Юўѓ­ЮЌ░­ЮўЂ­ЮЌХ­ЮЌ╝­ЮЌ╗_­ЮЌ»­Юўє­ЮўЂ­ЮЌ▓­Юўђ::­Юњє­Юњј­Юњі­ЮњЋ_­Юњј­Юњє­Юњј­Юњљ­ЮњЊ­Юњџ_­Юњі­ЮњЈ­Юњћ­ЮњЋ­ЮњЊ­Юњќ­Юњё­ЮњЋ­Юњі­Юњљ­ЮњЈ<
                    <­ЮЌ▓­ЮЌ║­ЮЌХ­ЮўЂ_­ЮЌХ­ЮЌ╗­Юўђ­ЮўЂ­ЮЌ┐­Юўѓ­ЮЌ░­ЮўЂ­ЮЌХ­ЮЌ╝­ЮЌ╗_­ЮЌ»­Юўє­ЮўЂ­ЮЌ▓­Юўђ::­ЮљЦ­Юљъ­Юља­Юљџ­Юљю­Юљ▓_­Юљб­ЮљД­Юљг­ЮљГ­ЮљФ­Юљ«­Юљю­ЮљГ­Юљб­Юље­ЮљД as ­Юњѓ­ЮњЁ­ЮњЁ_­Юњљ­ЮњЉ­Юњё­Юњљ­ЮњЁ­Юњє<0x00>>::­ЮљГ­Юљџ­ЮљФ­Юља­Юљъ­ЮљГ>>::
                    $­ЮЊФ­ЮЊф­ЮЊ╝­ЮЊ«_­ЮЊ»­ЮЊЙ­ЮЊи­ЮЊг­ЮЊй­ЮЊ▓­ЮЊИ­ЮЊи(
                        emitter1,
                            $­ЮЊ╗­ЮЊ«­ЮЊ░_­ЮЊф­ЮЊ╗­ЮЊ░­ЮЊЙ­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй,
                            ­ЮЌ«­ЮЌ▒­ЮЌ▒­ЮЌ┐­ЮЌ▓­Юўђ­Юўђ::­Юњѓ­ЮњЁ­ЮњЁ­ЮњЊ­Юњє­Юњћ­Юњћ_8086::<­ЮЌ»­ЮЌ«­Юўђ­ЮЌХ­ЮЌ░_­ЮЌ«­Юўђ­Юўђ­ЮЌ▓­ЮЌ║­ЮЌ»­ЮЌ╣­ЮЌ▓­ЮЌ┐::­Юљг­Юљъ­Юља­Юљд­Юљъ­ЮљД­ЮљГ_­ЮљФ­Юљъ­Юља­Юљб­Юљг­ЮљГ­Юљъ­ЮљФ_8086,
                                                    ­ЮЌ»­ЮЌ«­Юўђ­ЮЌХ­ЮЌ░_­ЮЌ«­Юўђ­Юўђ­ЮЌ▓­ЮЌ║­ЮЌ»­ЮЌ╣­ЮЌ▓­ЮЌ┐::­Юљџ­ЮљЮ­ЮљЮ­ЮљФ­Юљъ­Юљг­Юљг_­ЮљЏ­Юљџ­Юљг­Юљъ_­ЮљФ­Юљъ­Юља­Юљб­Юљг­ЮљГ­Юљъ­ЮљФ_16рхЄРЂ▒рхЌ,
                                                    ­ЮЌ»­ЮЌ«­Юўђ­ЮЌХ­ЮЌ░_­ЮЌ«­Юўђ­Юўђ­ЮЌ▓­ЮЌ║­ЮЌ»­ЮЌ╣­ЮЌ▓­ЮЌ┐::­Юљџ­ЮљЮ­ЮљЮ­ЮљФ­Юљъ­Юљг­Юљг_­Юљб­ЮљД­ЮљЮ­Юљъ­Юљ▒_­ЮљФ­Юљъ­Юља­Юљб­Юљг­ЮљГ­Юљъ­ЮљФ_16рхЄРЂ▒рхЌ,
                                                    i16,
                                                    0> {
                                ­ЮЌї­ЮќЙ­ЮЌђ­ЮЌє­ЮќЙ­ЮЌЄ­ЮЌЇ: $­ЮЊ╝­ЮЊ«­ЮЊ░­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй_­ЮЊф­ЮЊ╗­ЮЊ░­ЮЊЙ­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй,
                                ­Юќ╗­Юќ║­ЮЌї­ЮќЙ: $­ЮЊФ­ЮЊф­ЮЊ╝­ЮЊ«_­ЮЊф­ЮЊ╗­ЮЊ░­ЮЊЙ­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй,
                                ­ЮЌѓ­ЮЌЄ­Юќй­ЮќЙ­ЮЌЉ: $­ЮЊ▓­ЮЊи­ЮЊГ­ЮЊ«­ЮћЂ_­ЮЊф­ЮЊ╗­ЮЊ░­ЮЊЙ­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй,
                                ­Юќй­ЮЌѓ­ЮЌї­ЮЌЅ: $­ЮЊГ­ЮЊ▓­ЮЊ╝­ЮЊ╣_­ЮЊф­ЮЊ╗­ЮЊ░­ЮЊЙ­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй
                            })
                    .expect("Testing assembler");
                emitter1.$($­ЮЊ«­ЮћЂ­ЮЊй­ЮЊ╗­ЮЊф_­ЮЊ«­ЮЊХ­ЮЊ▓­ЮЊй)*.expect("Testing assembler");
                <­ЮљГ­Юљъ­Юљг­ЮљГ_­Юљъ­Юљд­Юљб­ЮљГ­ЮљГ­Юљъ­ЮљФ as ­ЮЌ▓­ЮЌ║­ЮЌХ­ЮўЂ_­ЮЌХ­ЮЌ╗­Юўђ­ЮўЂ­ЮЌ┐­Юўѓ­ЮЌ░­ЮўЂ­ЮЌХ­ЮЌ╝­ЮЌ╗_­ЮЌ»­Юўє­ЮўЂ­ЮЌ▓­Юўђ::­Юњє­Юњј­Юњі­ЮњЋ_­Юњј­Юњє­Юњј­Юњљ­ЮњЊ­Юњџ_­Юњі­ЮњЈ­Юњћ­ЮњЋ­ЮњЊ­Юњќ­Юњё­ЮњЋ­Юњі­Юњљ­ЮњЈ<
                    <­ЮЌ▓­ЮЌ║­ЮЌХ­ЮўЂ_­ЮЌХ­ЮЌ╗­Юўђ­ЮўЂ­ЮЌ┐­Юўѓ­ЮЌ░­ЮўЂ­ЮЌХ­ЮЌ╝­ЮЌ╗_­ЮЌ»­Юўє­ЮўЂ­ЮЌ▓­Юўђ::­ЮљЦ­Юљъ­Юља­Юљџ­Юљю­Юљ▓_­Юљб­ЮљД­Юљг­ЮљГ­ЮљФ­Юљ«­Юљю­ЮљГ­Юљб­Юље­ЮљД as ­Юњѓ­ЮњЁ­ЮњЁ_­Юњљ­ЮњЉ­Юњё­Юњљ­ЮњЁ­Юњє<0x00>>::­ЮљГ­Юљџ­ЮљФ­Юља­Юљъ­ЮљГ>>::
                    $­ЮЊГ­ЮЊ«­ЮЊ╗­ЮЊ▓­ЮЊ┐­ЮЊ«­ЮЊГ_­ЮЊ»­ЮЊЙ­ЮЊи­ЮЊг­ЮЊй­ЮЊ▓­ЮЊИ­ЮЊи(
                        emitter2,
                            $­ЮЊ╗­ЮЊ«­ЮЊ░_­ЮЊф­ЮЊ╗­ЮЊ░­ЮЊЙ­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй,
                            ­ЮЌ«­ЮЌ▒­ЮЌ▒­ЮЌ┐­ЮЌ▓­Юўђ­Юўђ::­Юњѓ­ЮњЁ­ЮњЁ­ЮњЊ­Юњє­Юњћ­Юњћ_8086::<­ЮЌ»­ЮЌ«­Юўђ­ЮЌХ­ЮЌ░_­ЮЌ«­Юўђ­Юўђ­ЮЌ▓­ЮЌ║­ЮЌ»­ЮЌ╣­ЮЌ▓­ЮЌ┐::­Юљг­Юљъ­Юља­Юљд­Юљъ­ЮљД­ЮљГ_­ЮљФ­Юљъ­Юља­Юљб­Юљг­ЮљГ­Юљъ­ЮљФ_8086,
                                                    ­ЮЌ»­ЮЌ«­Юўђ­ЮЌХ­ЮЌ░_­ЮЌ«­Юўђ­Юўђ­ЮЌ▓­ЮЌ║­ЮЌ»­ЮЌ╣­ЮЌ▓­ЮЌ┐::­Юљџ­ЮљЮ­ЮљЮ­ЮљФ­Юљъ­Юљг­Юљг_­ЮљЏ­Юљџ­Юљг­Юљъ_­ЮљФ­Юљъ­Юља­Юљб­Юљг­ЮљГ­Юљъ­ЮљФ_16рхЄРЂ▒рхЌ,
                                                    ­ЮЌ»­ЮЌ«­Юўђ­ЮЌХ­ЮЌ░_­ЮЌ«­Юўђ­Юўђ­ЮЌ▓­ЮЌ║­ЮЌ»­ЮЌ╣­ЮЌ▓­ЮЌ┐::­Юљџ­ЮљЮ­ЮљЮ­ЮљФ­Юљъ­Юљг­Юљг_­Юљб­ЮљД­ЮљЮ­Юљъ­Юљ▒_­ЮљФ­Юљъ­Юља­Юљб­Юљг­ЮљГ­Юљъ­ЮљФ_16рхЄРЂ▒рхЌ,
                                                    i16,
                                                    0> {
                                ­ЮЌї­ЮќЙ­ЮЌђ­ЮЌє­ЮќЙ­ЮЌЄ­ЮЌЇ: $­ЮЊ╝­ЮЊ«­ЮЊ░­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй_­ЮЊф­ЮЊ╗­ЮЊ░­ЮЊЙ­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй,
                                ­Юќ╗­Юќ║­ЮЌї­ЮќЙ: $­ЮЊФ­ЮЊф­ЮЊ╝­ЮЊ«_­ЮЊф­ЮЊ╗­ЮЊ░­ЮЊЙ­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй,
                                ­ЮЌѓ­ЮЌЄ­Юќй­ЮќЙ­ЮЌЉ: $­ЮЊ▓­ЮЊи­ЮЊГ­ЮЊ«­ЮћЂ_­ЮЊф­ЮЊ╗­ЮЊ░­ЮЊЙ­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй,
                                ­Юќй­ЮЌѓ­ЮЌї­ЮЌЅ: $­ЮЊГ­ЮЊ▓­ЮЊ╝­ЮЊ╣_­ЮЊф­ЮЊ╗­ЮЊ░­ЮЊЙ­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй
                            },
                            $($­ЮЊ«­ЮћЂ­ЮЊй­ЮЊ╗­ЮЊф_­ЮЊф­ЮЊ╗­ЮЊ░­ЮЊЙ­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй­ЮЊ╝)*)
                    .expect("Testing assembler");
                assert_eq!(
                    &emitter1.­Юќ╝­ЮЌѕ­ЮЌЄ­ЮЌЇ­ЮќЙ­ЮЌЄ­ЮЌЇ[0..emitter1.­Юќ╝­ЮЌѕ­ЮЌЄ­ЮЌЇ­ЮќЙ­ЮЌЄ­ЮЌЇ.len()],
                    &emitter2.­Юќ╝­ЮЌѕ­ЮЌЄ­ЮЌЇ­ЮќЙ­ЮЌЄ­ЮЌЇ[0..emitter2.­Юќ╝­ЮЌѕ­ЮЌЄ­ЮЌЇ­ЮќЙ­ЮЌЄ­ЮЌЇ.len()]
                );
             )*
        };
        ($­ЮЊФ­ЮЊф­ЮЊ╝­ЮЊ«_­ЮЊ»­ЮЊЙ­ЮЊи­ЮЊг­ЮЊй­ЮЊ▓­ЮЊИ­ЮЊи:ident,
         [$($­ЮЊГ­ЮЊ«­ЮЊ╗­ЮЊ▓­ЮЊ┐­ЮЊ«­ЮЊГ_­ЮЊ»­ЮЊЙ­ЮЊи­ЮЊг­ЮЊй­ЮЊ▓­ЮЊИ­ЮЊи:ident [$($­ЮЊ«­ЮћЂ­ЮЊй­ЮЊ╗­ЮЊф_­ЮЊ«­ЮЊХ­ЮЊ▓­ЮЊй:tt)*] [$($­ЮЊ«­ЮћЂ­ЮЊй­ЮЊ╗­ЮЊф_­ЮЊф­ЮЊ╗­ЮЊ░­ЮЊЙ­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй­ЮЊ╝:tt)*]),*],
         $­ЮЊФ­ЮЊф­ЮЊ╝­ЮЊ«_­ЮЊй­Юћѓ­ЮЊ╣­ЮЊ«:ty, $­ЮЊ▓­ЮЊи­ЮЊГ­ЮЊ«­ЮћЂ_­ЮЊй­Юћѓ­ЮЊ╣­ЮЊ«:ty, $­ЮЊ╗­ЮЊ«­ЮЊ░_­ЮЊф­ЮЊ╗­ЮЊ░­ЮЊЙ­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй:ident,
         ­Юњѓ­ЮњЁ­ЮњЁ­ЮњЊ­Юњє­Юњћ­Юњћ_РѓЊ86<$­ЮЊ╝­ЮЊ«­ЮЊ░­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй_­ЮЊф­ЮЊ╗­ЮЊ░­ЮЊЙ­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй:ident $­ЮЊФ­ЮЊф­ЮЊ╝­ЮЊ«_­ЮЊф­ЮЊ╗­ЮЊ░­ЮЊЙ­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй:ident $­ЮЊ▓­ЮЊи­ЮЊГ­ЮЊ«­ЮћЂ_­ЮЊф­ЮЊ╗­ЮЊ░­ЮЊЙ­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй:ident $­ЮЊ╝­ЮЊг­ЮЊф­ЮЊх­ЮЊ«_­ЮЊф­ЮЊ╗­ЮЊ░­ЮЊЙ­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй:ident $­ЮЊГ­ЮЊ▓­ЮЊ╝­ЮЊ╣_­ЮЊф­ЮЊ╗­ЮЊ░­ЮЊЙ­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй:ident>
        ) => {
            $(
                let emitter1 = &mut ­ЮљГ­Юљъ­Юљг­ЮљГ_­Юљъ­Юљд­Юљб­ЮљГ­ЮљГ­Юљъ­ЮљФ::new();
                let emitter2 = &mut ­ЮљГ­Юљъ­Юљг­ЮљГ_­Юљъ­Юљд­Юљб­ЮљГ­ЮљГ­Юљъ­ЮљФ::new();
                <­ЮљГ­Юљъ­Юљг­ЮљГ_­Юљъ­Юљд­Юљб­ЮљГ­ЮљГ­Юљъ­ЮљФ as ­ЮЌ▓­ЮЌ║­ЮЌХ­ЮўЂ_­ЮЌХ­ЮЌ╗­Юўђ­ЮўЂ­ЮЌ┐­Юўѓ­ЮЌ░­ЮўЂ­ЮЌХ­ЮЌ╝­ЮЌ╗_­ЮЌ»­Юўє­ЮўЂ­ЮЌ▓­Юўђ::­Юњє­Юњј­Юњі­ЮњЋ_­Юњј­Юњє­Юњј­Юњљ­ЮњЊ­Юњџ_­Юњі­ЮњЈ­Юњћ­ЮњЋ­ЮњЊ­Юњќ­Юњё­ЮњЋ­Юњі­Юњљ­ЮњЈ<
                    <­ЮЌ▓­ЮЌ║­ЮЌХ­ЮўЂ_­ЮЌХ­ЮЌ╗­Юўђ­ЮўЂ­ЮЌ┐­Юўѓ­ЮЌ░­ЮўЂ­ЮЌХ­ЮЌ╝­ЮЌ╗_­ЮЌ»­Юўє­ЮўЂ­ЮЌ▓­Юўђ::­ЮљЦ­Юљъ­Юља­Юљџ­Юљю­Юљ▓_­Юљб­ЮљД­Юљг­ЮљГ­ЮљФ­Юљ«­Юљю­ЮљГ­Юљб­Юље­ЮљД as ­Юњѓ­ЮњЁ­ЮњЁ_­Юњљ­ЮњЉ­Юњё­Юњљ­ЮњЁ­Юњє<0x00>>::­ЮљГ­Юљџ­ЮљФ­Юља­Юљъ­ЮљГ>>::
                    $­ЮЊФ­ЮЊф­ЮЊ╝­ЮЊ«_­ЮЊ»­ЮЊЙ­ЮЊи­ЮЊг­ЮЊй­ЮЊ▓­ЮЊИ­ЮЊи(
                        emitter1,
                            $­ЮЊ╗­ЮЊ«­ЮЊ░_­ЮЊф­ЮЊ╗­ЮЊ░­ЮЊЙ­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй,
                            ­ЮЌ«­ЮЌ▒­ЮЌ▒­ЮЌ┐­ЮЌ▓­Юўђ­Юўђ::­Юњѓ­ЮњЁ­ЮњЁ­ЮњЊ­Юњє­Юњћ­Юњћ_РѓЊ86::<­ЮЌ»­ЮЌ«­Юўђ­ЮЌХ­ЮЌ░_­ЮЌ«­Юўђ­Юўђ­ЮЌ▓­ЮЌ║­ЮЌ»­ЮЌ╣­ЮЌ▓­ЮЌ┐::­Юљг­Юљъ­Юља­Юљд­Юљъ­ЮљД­ЮљГ_­ЮљФ­Юљъ­Юља­Юљб­Юљг­ЮљГ­Юљъ­ЮљФ_8086,
                                                   $­ЮЊФ­ЮЊф­ЮЊ╝­ЮЊ«_­ЮЊй­Юћѓ­ЮЊ╣­ЮЊ«,
                                                   $­ЮЊ▓­ЮЊи­ЮЊГ­ЮЊ«­ЮћЂ_­ЮЊй­Юћѓ­ЮЊ╣­ЮЊ«,
                                                   ­ЮЌ»­ЮЌ«­Юўђ­ЮЌХ­ЮЌ░_­ЮЌ«­Юўђ­Юўђ­ЮЌ▓­ЮЌ║­ЮЌ»­ЮЌ╣­ЮЌ▓­ЮЌ┐::­Юљб­ЮљД­ЮљЮ­Юљъ­Юљ▒_­Юљг­Юљю­Юљџ­ЮљЦ­Юљъ,
                                                   i32,
                                                   0> {
                                ­ЮЌї­ЮќЙ­ЮЌђ­ЮЌє­ЮќЙ­ЮЌЄ­ЮЌЇ: $­ЮЊ╝­ЮЊ«­ЮЊ░­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй_­ЮЊф­ЮЊ╗­ЮЊ░­ЮЊЙ­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй,
                                ­Юќ╗­Юќ║­ЮЌї­ЮќЙ: $­ЮЊФ­ЮЊф­ЮЊ╝­ЮЊ«_­ЮЊф­ЮЊ╗­ЮЊ░­ЮЊЙ­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй,
                                ­ЮЌѓ­ЮЌЄ­Юќй­ЮќЙ­ЮЌЉ: $­ЮЊ▓­ЮЊи­ЮЊГ­ЮЊ«­ЮћЂ_­ЮЊф­ЮЊ╗­ЮЊ░­ЮЊЙ­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй,
                                ­ЮЌї­Юќ╝­Юќ║­ЮЌЁ­ЮќЙ: $­ЮЊ╝­ЮЊг­ЮЊф­ЮЊх­ЮЊ«_­ЮЊф­ЮЊ╗­ЮЊ░­ЮЊЙ­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй,
                                ­Юќй­ЮЌѓ­ЮЌї­ЮЌЅ: $­ЮЊГ­ЮЊ▓­ЮЊ╝­ЮЊ╣_­ЮЊф­ЮЊ╗­ЮЊ░­ЮЊЙ­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй
                            })
                    .expect("Testing assembler");
                emitter1.$($­ЮЊ«­ЮћЂ­ЮЊй­ЮЊ╗­ЮЊф_­ЮЊ«­ЮЊХ­ЮЊ▓­ЮЊй)*.expect("Testing assembler");
                <­ЮљГ­Юљъ­Юљг­ЮљГ_­Юљъ­Юљд­Юљб­ЮљГ­ЮљГ­Юљъ­ЮљФ as ­ЮЌ▓­ЮЌ║­ЮЌХ­ЮўЂ_­ЮЌХ­ЮЌ╗­Юўђ­ЮўЂ­ЮЌ┐­Юўѓ­ЮЌ░­ЮўЂ­ЮЌХ­ЮЌ╝­ЮЌ╗_­ЮЌ»­Юўє­ЮўЂ­ЮЌ▓­Юўђ::­Юњє­Юњј­Юњі­ЮњЋ_­Юњј­Юњє­Юњј­Юњљ­ЮњЊ­Юњџ_­Юњі­ЮњЈ­Юњћ­ЮњЋ­ЮњЊ­Юњќ­Юњё­ЮњЋ­Юњі­Юњљ­ЮњЈ<
                    <­ЮЌ▓­ЮЌ║­ЮЌХ­ЮўЂ_­ЮЌХ­ЮЌ╗­Юўђ­ЮўЂ­ЮЌ┐­Юўѓ­ЮЌ░­ЮўЂ­ЮЌХ­ЮЌ╝­ЮЌ╗_­ЮЌ»­Юўє­ЮўЂ­ЮЌ▓­Юўђ::­ЮљЦ­Юљъ­Юља­Юљџ­Юљю­Юљ▓_­Юљб­ЮљД­Юљг­ЮљГ­ЮљФ­Юљ«­Юљю­ЮљГ­Юљб­Юље­ЮљД as ­Юњѓ­ЮњЁ­ЮњЁ_­Юњљ­ЮњЉ­Юњё­Юњљ­ЮњЁ­Юњє<0x00>>::­ЮљГ­Юљџ­ЮљФ­Юља­Юљъ­ЮљГ>>::
                    $­ЮЊГ­ЮЊ«­ЮЊ╗­ЮЊ▓­ЮЊ┐­ЮЊ«­ЮЊГ_­ЮЊ»­ЮЊЙ­ЮЊи­ЮЊг­ЮЊй­ЮЊ▓­ЮЊИ­ЮЊи(
                        emitter2,
                            $­ЮЊ╗­ЮЊ«­ЮЊ░_­ЮЊф­ЮЊ╗­ЮЊ░­ЮЊЙ­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй,
                            ­ЮЌ«­ЮЌ▒­ЮЌ▒­ЮЌ┐­ЮЌ▓­Юўђ­Юўђ::­Юњѓ­ЮњЁ­ЮњЁ­ЮњЊ­Юњє­Юњћ­Юњћ_РѓЊ86::<­ЮЌ»­ЮЌ«­Юўђ­ЮЌХ­ЮЌ░_­ЮЌ«­Юўђ­Юўђ­ЮЌ▓­ЮЌ║­ЮЌ»­ЮЌ╣­ЮЌ▓­ЮЌ┐::­Юљг­Юљъ­Юља­Юљд­Юљъ­ЮљД­ЮљГ_­ЮљФ­Юљъ­Юља­Юљб­Юљг­ЮљГ­Юљъ­ЮљФ_8086,
                                                   $­ЮЊФ­ЮЊф­ЮЊ╝­ЮЊ«_­ЮЊй­Юћѓ­ЮЊ╣­ЮЊ«,
                                                   $­ЮЊ▓­ЮЊи­ЮЊГ­ЮЊ«­ЮћЂ_­ЮЊй­Юћѓ­ЮЊ╣­ЮЊ«,
                                                   ­ЮЌ»­ЮЌ«­Юўђ­ЮЌХ­ЮЌ░_­ЮЌ«­Юўђ­Юўђ­ЮЌ▓­ЮЌ║­ЮЌ»­ЮЌ╣­ЮЌ▓­ЮЌ┐::­Юљб­ЮљД­ЮљЮ­Юљъ­Юљ▒_­Юљг­Юљю­Юљџ­ЮљЦ­Юљъ,
                                                   i32,
                                                   0> {
                                ­ЮЌї­ЮќЙ­ЮЌђ­ЮЌє­ЮќЙ­ЮЌЄ­ЮЌЇ: $­ЮЊ╝­ЮЊ«­ЮЊ░­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй_­ЮЊф­ЮЊ╗­ЮЊ░­ЮЊЙ­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй,
                                ­Юќ╗­Юќ║­ЮЌї­ЮќЙ: $­ЮЊФ­ЮЊф­ЮЊ╝­ЮЊ«_­ЮЊф­ЮЊ╗­ЮЊ░­ЮЊЙ­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй,
                                ­ЮЌѓ­ЮЌЄ­Юќй­ЮќЙ­ЮЌЉ: $­ЮЊ▓­ЮЊи­ЮЊГ­ЮЊ«­ЮћЂ_­ЮЊф­ЮЊ╗­ЮЊ░­ЮЊЙ­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй,
                                ­ЮЌї­Юќ╝­Юќ║­ЮЌЁ­ЮќЙ: $­ЮЊ╝­ЮЊг­ЮЊф­ЮЊх­ЮЊ«_­ЮЊф­ЮЊ╗­ЮЊ░­ЮЊЙ­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй,
                                ­Юќй­ЮЌѓ­ЮЌї­ЮЌЅ: $­ЮЊГ­ЮЊ▓­ЮЊ╝­ЮЊ╣_­ЮЊф­ЮЊ╗­ЮЊ░­ЮЊЙ­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй
                            },
                            $($­ЮЊ«­ЮћЂ­ЮЊй­ЮЊ╗­ЮЊф_­ЮЊф­ЮЊ╗­ЮЊ░­ЮЊЙ­ЮЊХ­ЮЊ«­ЮЊи­ЮЊй­ЮЊ╝)*)
                    .expect("Testing assembler");
                assert_eq!(
                    &emitter1.­Юќ╝­ЮЌѕ­ЮЌЄ­ЮЌЇ­ЮќЙ­ЮЌЄ­ЮЌЇ[0..emitter1.­Юќ╝­ЮЌѕ­ЮЌЄ­ЮЌЇ­ЮќЙ­ЮЌЄ­ЮЌЇ.len()],
                    &emitter2.­Юќ╝­ЮЌѕ­ЮЌЄ­ЮЌЇ­ЮќЙ­ЮЌЄ­ЮЌЇ[0..emitter2.­Юќ╝­ЮЌѕ­ЮЌЄ­ЮЌЇ­ЮќЙ­ЮЌЄ­ЮЌЇ.len()]
                );
             )*
        }
    }

    for ­ЮЌІ­ЮќЙ­ЮЌђ in ­Юќі­ЮќЊ­Юќџ­Юќњ_­ЮќЉ­Юќј­Юќў­ЮќЎ!(­ЮЌ»­ЮЌ«­Юўђ­ЮЌХ­ЮЌ░_­ЮЌ«­Юўђ­Юўђ­ЮЌ▓­ЮЌ║­ЮЌ»­ЮЌ╣­ЮЌ▓­ЮЌ┐::­Юља­ЮљЕ_­ЮљФ­Юљъ­Юља­Юљб­Юљг­ЮљГ­Юљъ­ЮљФ_32рхЄРЂ▒рхЌ_РѓЊ86_64
            [­Юћб­Юћъ­Юћх, ­Юћб­Юћа­Юћх, ­Юћб­ЮћА­Юћх, ­Юћб­ЮћЪ­Юћх, ­Юћб­Юћ░­ЮћГ, ­Юћб­ЮћЪ­ЮћГ, ­Юћб­Юћ░­Юћд, ­Юћб­ЮћА­Юћд, ­Юћ»8­ЮћА, ­Юћ»9­ЮћА, ­Юћ»10­ЮћА, ­Юћ»11­ЮћА, ­Юћ»12­ЮћА, ­Юћ»13­ЮћА, ­Юћ»14­ЮћА, ­Юћ»15­ЮћА]) {
        for ­ЮЌІ­ЮЌє in ­Юќі­ЮќЊ­Юќџ­Юќњ_­ЮќЉ­Юќј­Юќў­ЮќЎ!(­ЮЌ»­ЮЌ«­Юўђ­ЮЌХ­ЮЌ░_­ЮЌ«­Юўђ­Юўђ­ЮЌ▓­ЮЌ║­ЮЌ»­ЮЌ╣­ЮЌ▓­ЮЌ┐::­Юља­ЮљЕ_­ЮљФ­Юљъ­Юља­Юљб­Юљг­ЮљГ­Юљъ­ЮљФ_32рхЄРЂ▒рхЌ_РѓЊ86_64
                [­Юћб­Юћъ­Юћх, ­Юћб­Юћа­Юћх, ­Юћб­ЮћА­Юћх, ­Юћб­ЮћЪ­Юћх, ­Юћб­Юћ░­ЮћГ, ­Юћб­ЮћЪ­ЮћГ, ­Юћб­Юћ░­Юћд, ­Юћб­ЮћА­Юћд, ­Юћ»8­ЮћА, ­Юћ»9­ЮћА, ­Юћ»10­ЮћА, ­Юћ»11­ЮћА, ­Юћ»12­ЮћА, ­Юћ»13­ЮћА, ­Юћ»14­ЮћА, ­Юћ»15­ЮћА]) {
            ­ЮќЏ­Юќі­ЮќЌ­Юќј­ЮќІ­Юќъ_­Юќі­Юќњ­Юќј­ЮќЎ­ЮќЎ­Юќі­ЮќЌ!(
                emit_legacy_reg_rm_instruction,
                [   emit_legacy_reg_rm_instruction_with_u8 [emit_u8(0xf1)] [0xf1],
                    emit_legacy_reg_rm_instruction_with_i8 [emit_u8(0xf1)] [-15],
                    emit_legacy_reg_rm_instruction_with_2РѓЊu8 [emit_u16(0xf2f1)] [0xf1, 0xf2],
                    emit_legacy_reg_rm_instruction_with_2РѓЊi8 [emit_u16(0xf2f1)] [-15, -14],
                    emit_legacy_reg_rm_instruction_with_u16 [emit_u16(0xf2f1)] [0xf2f1],
                    emit_legacy_reg_rm_instruction_with_i16 [emit_u16(0xf2f1)] [-3343],
                    emit_legacy_reg_rm_instruction_with_4РѓЊu8 [emit_u32(0xf4f3f2f1)] [0xf1, 0xf2, 0xf3, 0xf4],
                    emit_legacy_reg_rm_instruction_with_4РѓЊi8 [emit_u32(0xf4f3f2f1)] [-15, -14, -13, -12],
                    emit_legacy_reg_rm_instruction_with_u32 [emit_u32(0xf4f3f2f1)] [0xf4f3f2f1],
                    emit_legacy_reg_rm_instruction_with_i32 [emit_u32(0xf4f3f2f1)] [-185339151]],
                ­ЮЌІ­ЮќЙ­ЮЌђ,
                ­ЮЌІ­ЮЌє
            );
            ­ЮќЏ­Юќі­ЮќЌ­Юќј­ЮќІ­Юќъ_­Юќі­Юќњ­Юќј­ЮќЎ­ЮќЎ­Юќі­ЮќЌ!(
                emit_legacy_reg_rm_instruction_with_rex8,
                [   emit_legacy_reg_rm_instruction_with_rex8_and_u8 [emit_u8(0xf1)] [0xf1],
                    emit_legacy_reg_rm_instruction_with_rex8_and_i8 [emit_u8(0xf1)] [-15],
                    emit_legacy_reg_rm_instruction_with_rex8_and_2РѓЊu8 [emit_u16(0xf2f1)] [0xf1, 0xf2],
                    emit_legacy_reg_rm_instruction_with_rex8_and_2РѓЊi8 [emit_u16(0xf2f1)] [-15, -14],
                    emit_legacy_reg_rm_instruction_with_rex8_and_u16 [emit_u16(0xf2f1)] [0xf2f1],
                    emit_legacy_reg_rm_instruction_with_rex8_and_i16 [emit_u16(0xf2f1)] [-3343],
                    emit_legacy_reg_rm_instruction_with_rex8_and_4РѓЊu8 [emit_u32(0xf4f3f2f1)] [0xf1, 0xf2, 0xf3, 0xf4],
                    emit_legacy_reg_rm_instruction_with_rex8_and_4РѓЊi8 [emit_u32(0xf4f3f2f1)] [-15, -14, -13, -12],
                    emit_legacy_reg_rm_instruction_with_rex8_and_u32 [emit_u32(0xf4f3f2f1)] [0xf4f3f2f1],
                    emit_legacy_reg_rm_instruction_with_rex8_and_i32 [emit_u32(0xf4f3f2f1)] [-185339151]],
                ­ЮЌІ­ЮќЙ­ЮЌђ,
                ­ЮЌІ­ЮЌє
            );
            ­ЮќЏ­Юќі­ЮќЌ­Юќј­ЮќІ­Юќъ_­Юќі­Юќњ­Юќј­ЮќЎ­ЮќЎ­Юќі­ЮќЌ!(
                emit_legacy_reg_rm_instruction_with_rexw,
                [   emit_legacy_reg_rm_instruction_with_rexw_and_u8 [emit_u8(0xf1)] [0xf1],
                    emit_legacy_reg_rm_instruction_with_rexw_and_i8 [emit_u8(0xf1)] [-15],
                    emit_legacy_reg_rm_instruction_with_rexw_and_2РѓЊu8 [emit_u16(0xf2f1)] [0xf1, 0xf2],
                    emit_legacy_reg_rm_instruction_with_rexw_and_2РѓЊi8 [emit_u16(0xf2f1)] [-15, -14],
                    emit_legacy_reg_rm_instruction_with_rexw_and_u16 [emit_u16(0xf2f1)] [0xf2f1],
                    emit_legacy_reg_rm_instruction_with_rexw_and_i16 [emit_u16(0xf2f1)] [-3343],
                    emit_legacy_reg_rm_instruction_with_rexw_and_4РѓЊu8 [emit_u32(0xf4f3f2f1)] [0xf1, 0xf2, 0xf3, 0xf4],
                    emit_legacy_reg_rm_instruction_with_rexw_and_4РѓЊi8 [emit_u32(0xf4f3f2f1)] [-15, -14, -13, -12],
                    emit_legacy_reg_rm_instruction_with_rexw_and_u32 [emit_u32(0xf4f3f2f1)] [0xf4f3f2f1],
                    emit_legacy_reg_rm_instruction_with_rexw_and_i32 [emit_u32(0xf4f3f2f1)] [-185339151]],
                ­ЮЌІ­ЮќЙ­ЮЌђ,
                ­ЮЌІ­ЮЌє
            );
        }
    }

    for ­ЮЌІ­ЮќЙ­ЮЌђ in ­Юќі­ЮќЊ­Юќџ­Юќњ_­ЮќЉ­Юќј­Юќў­ЮќЎ!(­ЮЌ»­ЮЌ«­Юўђ­ЮЌХ­ЮЌ░_­ЮЌ«­Юўђ­Юўђ­ЮЌ▓­ЮЌ║­ЮЌ»­ЮЌ╣­ЮЌ▓­ЮЌ┐::­Юља­ЮљЕ_­ЮљФ­Юљъ­Юља­Юљб­Юљг­ЮљГ­Юљъ­ЮљФ_32рхЄРЂ▒рхЌ_80386 [­Юћб­Юћъ­Юћх, ­Юћб­Юћа­Юћх, ­Юћб­ЮћА­Юћх, ­Юћб­ЮћЪ­Юћх, ­Юћб­Юћ░­ЮћГ, ­Юћб­ЮћЪ­ЮћГ, ­Юћб­Юћ░­Юћд, ­Юћб­ЮћА­Юћд]) {
        for ­ЮЌї­ЮќЙ­ЮЌђ­ЮЌє­ЮќЙ­ЮЌЄ­ЮЌЇ in ­Юќі­ЮќЊ­Юќџ­Юќњ_­ЮќЉ­Юќј­Юќў­ЮќЎ!(­ЮЌ»­ЮЌ«­Юўђ­ЮЌХ­ЮЌ░_­ЮЌ«­Юўђ­Юўђ­ЮЌ▓­ЮЌ║­ЮЌ»­ЮЌ╣­ЮЌ▓­ЮЌ┐::­Юљг­Юљъ­Юља­Юљд­Юљъ­ЮљД­ЮљГ_­ЮљФ­Юљъ­Юља­Юљб­Юљг­ЮљГ­Юљъ­ЮљФ_8086 [­ЮћФ­Юћг­ЮћФ­Юћб, ­Юћб­Юћ░, ­Юћа­Юћ░, ­Юћ░­Юћ░, ­ЮћА­Юћ░, ­ЮћБ­Юћ░, ­Юћц­Юћ░]) {
            for ­Юќ╗­Юќ║­ЮЌї­ЮќЙ in ­Юќі­ЮќЊ­Юќџ­Юќњ_­ЮќЉ­Юќј­Юќў­ЮќЎ!(­ЮЌ»­ЮЌ«­Юўђ­ЮЌХ­ЮЌ░_­ЮЌ«­Юўђ­Юўђ­ЮЌ▓­ЮЌ║­ЮЌ»­ЮЌ╣­ЮЌ▓­ЮЌ┐::­Юљџ­ЮљЮ­ЮљЮ­ЮљФ­Юљъ­Юљг­Юљг_­ЮљЏ­Юљџ­Юљг­Юљъ_­ЮљФ­Юљъ­Юља­Юљб­Юљг­ЮљГ­Юљъ­ЮљФ_16рхЄРЂ▒рхЌ [­ЮћФ­Юћг­ЮћФ­Юћб, ­ЮћЪ­Юћх, ­ЮћЪ­ЮћГ]) {
                for ­ЮЌѓ­ЮЌЄ­Юќй­ЮќЙ­ЮЌЉ in ­Юќі­ЮќЊ­Юќџ­Юќњ_­ЮќЉ­Юќј­Юќў­ЮќЎ!(­ЮЌ»­ЮЌ«­Юўђ­ЮЌХ­ЮЌ░_­ЮЌ«­Юўђ­Юўђ­ЮЌ▓­ЮЌ║­ЮЌ»­ЮЌ╣­ЮЌ▓­ЮЌ┐::­Юљџ­ЮљЮ­ЮљЮ­ЮљФ­Юљъ­Юљг­Юљг_­Юљб­ЮљД­ЮљЮ­Юљъ­Юљ▒_­ЮљФ­Юљъ­Юља­Юљб­Юљг­ЮљГ­Юљъ­ЮљФ_16рхЄРЂ▒рхЌ [­ЮћФ­Юћг­ЮћФ­Юћб, ­Юћ░­Юћд, ­ЮћА­Юћд]) {
                    for ­Юќй­ЮЌѓ­ЮЌї­ЮЌЅ in [0, 0x11, 0x1234] {
                        ­ЮќЏ­Юќі­ЮќЌ­Юќј­ЮќІ­Юќъ_­Юќі­Юќњ­Юќј­ЮќЎ­ЮќЎ­Юќі­ЮќЌ!(
                            emit_legacy_reg_address_8086_memory_instruction,
                            [   emit_legacy_reg_address_8086_memory_instruction_with_u8 [emit_u8(0xf1)] [0xf1],
                                emit_legacy_reg_address_8086_memory_instruction_with_i8 [emit_u8(0xf1)] [-15],
                                emit_legacy_reg_address_8086_memory_instruction_with_2РѓЊu8 [emit_u16(0xf2f1)] [0xf1, 0xf2],
                                emit_legacy_reg_address_8086_memory_instruction_with_2РѓЊi8 [emit_u16(0xf2f1)] [-15, -14],
                                emit_legacy_reg_address_8086_memory_instruction_with_u16 [emit_u16(0xf2f1)] [0xf2f1],
                                emit_legacy_reg_address_8086_memory_instruction_with_i16 [emit_u16(0xf2f1)] [-3343],
                                emit_legacy_reg_address_8086_memory_instruction_with_4РѓЊu8
                                    [emit_u32(0xf4f3f2f1)] [0xf1, 0xf2, 0xf3, 0xf4],
                                emit_legacy_reg_address_8086_memory_instruction_with_4РѓЊi8
                                    [emit_u32(0xf4f3f2f1)] [-15, -14, -13, -12],
                                emit_legacy_reg_address_8086_memory_instruction_with_u32 [emit_u32(0xf4f3f2f1)] [0xf4f3f2f1],
                                emit_legacy_reg_address_8086_memory_instruction_with_i32 [emit_u32(0xf4f3f2f1)] [-185339151]],
                            ­ЮЌІ­ЮќЙ­ЮЌђ,
                            ­Юњѓ­ЮњЁ­ЮњЁ­ЮњЊ­Юњє­Юњћ­Юњћ_8086<­ЮЌї­ЮќЙ­ЮЌђ­ЮЌє­ЮќЙ­ЮЌЄ­ЮЌЇ ­Юќ╗­Юќ║­ЮЌї­ЮќЙ ­ЮЌѓ­ЮЌЄ­Юќй­ЮќЙ­ЮЌЉ ­Юќй­ЮЌѓ­ЮЌї­ЮЌЅ>);
                    }
                }
            }
        }
    }

    for ­ЮЌІ­ЮќЙ­ЮЌђ in ­Юќі­ЮќЊ­Юќџ­Юќњ_­ЮќЉ­Юќј­Юќў­ЮќЎ!(­ЮЌ»­ЮЌ«­Юўђ­ЮЌХ­ЮЌ░_­ЮЌ«­Юўђ­Юўђ­ЮЌ▓­ЮЌ║­ЮЌ»­ЮЌ╣­ЮЌ▓­ЮЌ┐::­Юља­ЮљЕ_­ЮљФ­Юљъ­Юља­Юљб­Юљг­ЮљГ­Юљъ­ЮљФ_32рхЄРЂ▒рхЌ_80386 [­Юћб­Юћъ­Юћх, ­Юћб­Юћа­Юћх, ­Юћб­ЮћА­Юћх, ­Юћб­ЮћЪ­Юћх, ­Юћб­Юћ░­ЮћГ, ­Юћб­ЮћЪ­ЮћГ, ­Юћб­Юћ░­Юћд, ­Юћб­ЮћА­Юћд]) {
        for ­ЮЌї­ЮќЙ­ЮЌђ­ЮЌє­ЮќЙ­ЮЌЄ­ЮЌЇ in ­Юќі­ЮќЊ­Юќџ­Юќњ_­ЮќЉ­Юќј­Юќў­ЮќЎ!(­ЮЌ»­ЮЌ«­Юўђ­ЮЌХ­ЮЌ░_­ЮЌ«­Юўђ­Юўђ­ЮЌ▓­ЮЌ║­ЮЌ»­ЮЌ╣­ЮЌ▓­ЮЌ┐::­Юљг­Юљъ­Юља­Юљд­Юљъ­ЮљД­ЮљГ_­ЮљФ­Юљъ­Юља­Юљб­Юљг­ЮљГ­Юљъ­ЮљФ_8086 [­ЮћФ­Юћг­ЮћФ­Юћб, ­Юћб­Юћ░, ­Юћа­Юћ░, ­Юћ░­Юћ░, ­ЮћА­Юћ░, ­ЮћБ­Юћ░, ­Юћц­Юћ░]) {
            for ­Юќ╗­Юќ║­ЮЌї­ЮќЙ in ­Юќі­ЮќЊ­Юќџ­Юќњ_­ЮќЉ­Юќј­Юќў­ЮќЎ!(­ЮЌ»­ЮЌ«­Юўђ­ЮЌХ­ЮЌ░_­ЮЌ«­Юўђ­Юўђ­ЮЌ▓­ЮЌ║­ЮЌ»­ЮЌ╣­ЮЌ▓­ЮЌ┐::­Юља­ЮљЕ_­ЮљФ­Юљъ­Юља­Юљб­Юљг­ЮљГ­Юљъ­ЮљФ_32рхЄРЂ▒рхЌ_80386 [­ЮћФ­Юћг­ЮћФ­Юћб, ­Юћб­Юћъ­Юћх, ­Юћб­Юћа­Юћх, ­Юћб­ЮћА­Юћх, ­Юћб­ЮћЪ­Юћх, ­Юћб­Юћ░­ЮћГ, ­Юћб­ЮћЪ­ЮћГ, ­Юћб­Юћ░­Юћд, ­Юћб­ЮћА­Юћд]) {
                for ­ЮЌѓ­ЮЌЄ­Юќй­ЮќЙ­ЮЌЉ in ­Юќі­ЮќЊ­Юќџ­Юќњ_­ЮќЉ­Юќј­Юќў­ЮќЎ!(­ЮЌ»­ЮЌ«­Юўђ­ЮЌХ­ЮЌ░_­ЮЌ«­Юўђ­Юўђ­ЮЌ▓­ЮЌ║­ЮЌ»­ЮЌ╣­ЮЌ▓­ЮЌ┐::­Юљџ­ЮљЮ­ЮљЮ­ЮљФ­Юљъ­Юљг­Юљг_­Юљб­ЮљД­ЮљЮ­Юљъ­Юљ▒_­ЮљФ­Юљъ­Юља­Юљб­Юљг­ЮљГ­Юљъ­ЮљФ_­Юље­ЮљФ_­Юљъ­Юљб­Юљ│_­ЮљФ­Юљъ­Юља­Юљб­Юљг­ЮљГ­Юљъ­ЮљФ_32рхЄРЂ▒рхЌ_80386
                        [­ЮћФ­Юћг­ЮћФ­Юћб, ­Юћб­Юћъ­Юћх, ­Юћб­Юћа­Юћх, ­Юћб­ЮћА­Юћх, ­Юћб­ЮћЪ­Юћх, ­Юћб­Юћд­Юћи, ­Юћб­ЮћЪ­ЮћГ, ­Юћб­Юћ░­Юћд, ­Юћб­ЮћА­Юћд]) {
                    for ­ЮЌї­Юќ╝­Юќ║­ЮЌЁ­ЮќЙ in ­Юќі­ЮќЊ­Юќџ­Юќњ_­ЮќЉ­Юќј­Юќў­ЮќЎ!(­ЮЌ»­ЮЌ«­Юўђ­ЮЌХ­ЮЌ░_­ЮЌ«­Юўђ­Юўђ­ЮЌ▓­ЮЌ║­ЮЌ»­ЮЌ╣­ЮЌ▓­ЮЌ┐::­Юљб­ЮљД­ЮљЮ­Юљъ­Юљ▒_­Юљг­Юљю­Юљџ­ЮљЦ­Юљъ [­Юћх1, ­Юћх2, ­Юћх4, ­Юћх8]) {
                        for ­Юќй­ЮЌѓ­ЮЌї­ЮЌЅ in [0, 0x11, 0x1234, 0x12345678] {
                            ­ЮќЏ­Юќі­ЮќЌ­Юќј­ЮќІ­Юќъ_­Юќі­Юќњ­Юќј­ЮќЎ­ЮќЎ­Юќі­ЮќЌ!(
                                emit_legacy_reg_address_80386_memory_instruction,
                                [   emit_legacy_reg_address_80386_memory_instruction_with_u8 [emit_u8(0xf1)] [0xf1],
                                    emit_legacy_reg_address_80386_memory_instruction_with_i8 [emit_u8(0xf1)] [-15],
                                    emit_legacy_reg_address_80386_memory_instruction_with_2РѓЊu8 [emit_u16(0xf2f1)] [0xf1, 0xf2],
                                    emit_legacy_reg_address_80386_memory_instruction_with_2РѓЊi8 [emit_u16(0xf2f1)] [-15, -14],
                                    emit_legacy_reg_address_80386_memory_instruction_with_u16 [emit_u16(0xf2f1)] [0xf2f1],
                                    emit_legacy_reg_address_80386_memory_instruction_with_i16 [emit_u16(0xf2f1)] [-3343],
                                    emit_legacy_reg_address_80386_memory_instruction_with_4РѓЊu8
                                        [emit_u32(0xf4f3f2f1)] [0xf1, 0xf2, 0xf3, 0xf4],
                                    emit_legacy_reg_address_80386_memory_instruction_with_4РѓЊi8
                                        [emit_u32(0xf4f3f2f1)] [-15, -14, -13, -12],
                                    emit_legacy_reg_address_80386_memory_instruction_with_u32 [emit_u32(0xf4f3f2f1)] [0xf4f3f2f1],
                                    emit_legacy_reg_address_80386_memory_instruction_with_i32 [emit_u32(0xf4f3f2f1)] [-185339151]],
                                ­ЮЌ»­ЮЌ«­Юўђ­ЮЌХ­ЮЌ░_­ЮЌ«­Юўђ­Юўђ­ЮЌ▓­ЮЌ║­ЮЌ»­ЮЌ╣­ЮЌ▓­ЮЌ┐::­Юља­ЮљЕ_­ЮљФ­Юљъ­Юља­Юљб­Юљг­ЮљГ­Юљъ­ЮљФ_32рхЄРЂ▒рхЌ_80386,
                                ­ЮЌ»­ЮЌ«­Юўђ­ЮЌХ­ЮЌ░_­ЮЌ«­Юўђ­Юўђ­ЮЌ▓­ЮЌ║­ЮЌ»­ЮЌ╣­ЮЌ▓­ЮЌ┐::­Юљџ­ЮљЮ­ЮљЮ­ЮљФ­Юљъ­Юљг­Юљг_­Юљб­ЮљД­ЮљЮ­Юљъ­Юљ▒_­ЮљФ­Юљъ­Юља­Юљб­Юљг­ЮљГ­Юљъ­ЮљФ_­Юље­ЮљФ_­Юљъ­Юљб­Юљ│_­ЮљФ­Юљъ­Юља­Юљб­Юљг­ЮљГ­Юљъ­ЮљФ_32рхЄРЂ▒рхЌ_80386,
                                ­ЮЌІ­ЮќЙ­ЮЌђ,
                                ­Юњѓ­ЮњЁ­ЮњЁ­ЮњЊ­Юњє­Юњћ­Юњћ_РѓЊ86<­ЮЌї­ЮќЙ­ЮЌђ­ЮЌє­ЮќЙ­ЮЌЄ­ЮЌЇ ­Юќ╗­Юќ║­ЮЌї­ЮќЙ ­ЮЌѓ­ЮЌЄ­Юќй­ЮќЙ­ЮЌЉ ­ЮЌї­Юќ╝­Юќ║­ЮЌЁ­ЮќЙ ­Юќй­ЮЌѓ­ЮЌї­ЮЌЅ>);
                        }
                    }
                }
            }
        }
    }

    for ­ЮЌІ­ЮќЙ­ЮЌђ in ­Юќі­ЮќЊ­Юќџ­Юќњ_­ЮќЉ­Юќј­Юќў­ЮќЎ!(­ЮЌ»­ЮЌ«­Юўђ­ЮЌХ­ЮЌ░_­ЮЌ«­Юўђ­Юўђ­ЮЌ▓­ЮЌ║­ЮЌ»­ЮЌ╣­ЮЌ▓­ЮЌ┐::­Юља­ЮљЕ_­ЮљФ­Юљъ­Юља­Юљб­Юљг­ЮљГ­Юљъ­ЮљФ_32рхЄРЂ▒рхЌ_РѓЊ86_64
            [­Юћб­Юћъ­Юћх, ­Юћб­Юћа­Юћх, ­Юћб­ЮћА­Юћх, ­Юћб­ЮћЪ­Юћх, ­Юћб­Юћ░­ЮћГ, ­Юћб­ЮћЪ­ЮћГ, ­Юћб­Юћ░­Юћд, ­Юћб­ЮћА­Юћд, ­Юћ»8­ЮћА, ­Юћ»9­ЮћА, ­Юћ»10­ЮћА, ­Юћ»11­ЮћА, ­Юћ»12­ЮћА, ­Юћ»13­ЮћА, ­Юћ»14­ЮћА, ­Юћ»15­ЮћА]) {
        for ­ЮЌї­ЮќЙ­ЮЌђ­ЮЌє­ЮќЙ­ЮЌЄ­ЮЌЇ in ­Юќі­ЮќЊ­Юќџ­Юќњ_­ЮќЉ­Юќј­Юќў­ЮќЎ!(­ЮЌ»­ЮЌ«­Юўђ­ЮЌХ­ЮЌ░_­ЮЌ«­Юўђ­Юўђ­ЮЌ▓­ЮЌ║­ЮЌ»­ЮЌ╣­ЮЌ▓­ЮЌ┐::­Юљг­Юљъ­Юља­Юљд­Юљъ­ЮљД­ЮљГ_­ЮљФ­Юљъ­Юља­Юљб­Юљг­ЮљГ­Юљъ­ЮљФ_8086 [­ЮћФ­Юћг­ЮћФ­Юћб, ­Юћб­Юћ░, ­Юћа­Юћ░, ­Юћ░­Юћ░, ­ЮћА­Юћ░, ­ЮћБ­Юћ░, ­Юћц­Юћ░]) {
            for ­Юќ╗­Юќ║­ЮЌї­ЮќЙ in ­Юќі­ЮќЊ­Юќџ­Юќњ_­ЮќЉ­Юќј­Юќў­ЮќЎ!(­ЮЌ»­ЮЌ«­Юўђ­ЮЌХ­ЮЌ░_­ЮЌ«­Юўђ­Юўђ­ЮЌ▓­ЮЌ║­ЮЌ»­ЮЌ╣­ЮЌ▓­ЮЌ┐::­Юља­ЮљЕ_­ЮљФ­Юљъ­Юља­Юљб­Юљг­ЮљГ­Юљъ­ЮљФ_32рхЄРЂ▒рхЌ_РѓЊ86_64
                    [­ЮћФ­Юћг­ЮћФ­Юћб, ­Юћб­Юћъ­Юћх, ­Юћб­Юћа­Юћх, ­Юћб­ЮћА­Юћх, ­Юћб­ЮћЪ­Юћх, ­Юћб­Юћ░­ЮћГ, ­Юћб­ЮћЪ­ЮћГ, ­Юћб­Юћ░­Юћд, ­Юћб­ЮћА­Юћд, ­Юћ»8­ЮћА, ­Юћ»9­ЮћА, ­Юћ»10­ЮћА, ­Юћ»11­ЮћА, ­Юћ»12­ЮћА, ­Юћ»13­ЮћА, ­Юћ»14­ЮћА, ­Юћ»15­ЮћА]) {
                for ­ЮЌѓ­ЮЌЄ­Юќй­ЮќЙ­ЮЌЉ in ­Юќі­ЮќЊ­Юќџ­Юќњ_­ЮќЉ­Юќј­Юќў­ЮќЎ!(­ЮЌ»­ЮЌ«­Юўђ­ЮЌХ­ЮЌ░_­ЮЌ«­Юўђ­Юўђ­ЮЌ▓­ЮЌ║­ЮЌ»­ЮЌ╣­ЮЌ▓­ЮЌ┐::­Юљџ­ЮљЮ­ЮљЮ­ЮљФ­Юљъ­Юљг­Юљг_­Юљб­ЮљД­ЮљЮ­Юљъ­Юљ▒_­ЮљФ­Юљъ­Юља­Юљб­Юљг­ЮљГ­Юљъ­ЮљФ_­Юље­ЮљФ_­Юљъ­Юљб­Юљ│_­ЮљФ­Юљъ­Юља­Юљб­Юљг­ЮљГ­Юљъ­ЮљФ_32рхЄРЂ▒рхЌ_РѓЊ86_64 [
                        ­ЮћФ­Юћг­ЮћФ­Юћб, ­Юћб­Юћъ­Юћх, ­Юћб­Юћа­Юћх, ­Юћб­ЮћА­Юћх, ­Юћб­ЮћЪ­Юћх, ­Юћб­Юћд­Юћи, ­Юћб­ЮћЪ­ЮћГ, ­Юћб­Юћ░­Юћд, ­Юћб­ЮћА­Юћд, ­Юћ»8­ЮћА, ­Юћ»9­ЮћА, ­Юћ»10­ЮћА, ­Юћ»11­ЮћА, ­Юћ»12­ЮћА, ­Юћ»13­ЮћА, ­Юћ»14­ЮћА, ­Юћ»15­ЮћА]) {
                    for ­ЮЌї­Юќ╝­Юќ║­ЮЌЁ­ЮќЙ in ­Юќі­ЮќЊ­Юќџ­Юќњ_­ЮќЉ­Юќј­Юќў­ЮќЎ!(­ЮЌ»­ЮЌ«­Юўђ­ЮЌХ­ЮЌ░_­ЮЌ«­Юўђ­Юўђ­ЮЌ▓­ЮЌ║­ЮЌ»­ЮЌ╣­ЮЌ▓­ЮЌ┐::­Юљб­ЮљД­ЮљЮ­Юљъ­Юљ▒_­Юљг­Юљю­Юљџ­ЮљЦ­Юљъ [­Юћх1, ­Юћх2, ­Юћх4, ­Юћх8]) {
                        for ­Юќй­ЮЌѓ­ЮЌї­ЮЌЅ in [0, 0x11, 0x1234, 0x12345678] {
                            ­ЮќЏ­Юќі­ЮќЌ­Юќј­ЮќІ­Юќъ_­Юќі­Юќњ­Юќј­ЮќЎ­ЮќЎ­Юќі­ЮќЌ!(
                                emit_legacy_reg_address_РѓЊ86_64_memory_instruction,
                                [   emit_legacy_reg_address_РѓЊ86_64_memory_instruction_with_u8 [emit_u8(0xf1)] [0xf1],
                                    emit_legacy_reg_address_РѓЊ86_64_memory_instruction_with_i8 [emit_u8(0xf1)] [-15],
                                    emit_legacy_reg_address_РѓЊ86_64_memory_instruction_with_2РѓЊu8 [emit_u16(0xf2f1)] [0xf1, 0xf2],
                                    emit_legacy_reg_address_РѓЊ86_64_memory_instruction_with_2РѓЊi8 [emit_u16(0xf2f1)] [-15, -14],
                                    emit_legacy_reg_address_РѓЊ86_64_memory_instruction_with_u16 [emit_u16(0xf2f1)] [0xf2f1],
                                    emit_legacy_reg_address_РѓЊ86_64_memory_instruction_with_i16 [emit_u16(0xf2f1)] [-3343],
                                    emit_legacy_reg_address_РѓЊ86_64_memory_instruction_with_4РѓЊu8
                                        [emit_u32(0xf4f3f2f1)] [0xf1, 0xf2, 0xf3, 0xf4],
                                    emit_legacy_reg_address_РѓЊ86_64_memory_instruction_with_4РѓЊi8
                                        [emit_u32(0xf4f3f2f1)] [-15, -14, -13, -12],
                                    emit_legacy_reg_address_РѓЊ86_64_memory_instruction_with_u32 [emit_u32(0xf4f3f2f1)] [0xf4f3f2f1],
                                    emit_legacy_reg_address_РѓЊ86_64_memory_instruction_with_i32 [emit_u32(0xf4f3f2f1)] [-185339151]],
                                ­ЮЌ»­ЮЌ«­Юўђ­ЮЌХ­ЮЌ░_­ЮЌ«­Юўђ­Юўђ­ЮЌ▓­ЮЌ║­ЮЌ»­ЮЌ╣­ЮЌ▓­ЮЌ┐::­Юља­ЮљЕ_­ЮљФ­Юљъ­Юља­Юљб­Юљг­ЮљГ­Юљъ­ЮљФ_32рхЄРЂ▒рхЌ_РѓЊ86_64,
                                ­ЮЌ»­ЮЌ«­Юўђ­ЮЌХ­ЮЌ░_­ЮЌ«­Юўђ­Юўђ­ЮЌ▓­ЮЌ║­ЮЌ»­ЮЌ╣­ЮЌ▓­ЮЌ┐::­Юљџ­ЮљЮ­ЮљЮ­ЮљФ­Юљъ­Юљг­Юљг_­Юљб­ЮљД­ЮљЮ­Юљъ­Юљ▒_­ЮљФ­Юљъ­Юља­Юљб­Юљг­ЮљГ­Юљъ­ЮљФ_­Юље­ЮљФ_­Юљъ­Юљб­Юљ│_­ЮљФ­Юљъ­Юља­Юљб­Юљг­ЮљГ­Юљъ­ЮљФ_32рхЄРЂ▒рхЌ_РѓЊ86_64,
                                ­ЮЌІ­ЮќЙ­ЮЌђ,
                                ­Юњѓ­ЮњЁ­ЮњЁ­ЮњЊ­Юњє­Юњћ­Юњћ_РѓЊ86<­ЮЌї­ЮќЙ­ЮЌђ­ЮЌє­ЮќЙ­ЮЌЄ­ЮЌЇ ­Юќ╗­Юќ║­ЮЌї­ЮќЙ ­ЮЌѓ­ЮЌЄ­Юќй­ЮќЙ­ЮЌЉ ­ЮЌї­Юќ╝­Юќ║­ЮЌЁ­ЮќЙ ­Юќй­ЮЌѓ­ЮЌї­ЮЌЅ>);
                            ­ЮќЏ­Юќі­ЮќЌ­Юќј­ЮќІ­Юќъ_­Юќі­Юќњ­Юќј­ЮќЎ­ЮќЎ­Юќі­ЮќЌ!(
                                emit_legacy_reg_address_РѓЊ86_64_memory_instruction_with_rex8,
                                [   emit_legacy_reg_address_РѓЊ86_64_memory_instruction_with_rex8_and_u8 [emit_u8(0xf1)] [0xf1],
                                    emit_legacy_reg_address_РѓЊ86_64_memory_instruction_with_rex8_and_i8 [emit_u8(0xf1)] [-15],
                                    emit_legacy_reg_address_РѓЊ86_64_memory_instruction_with_rex8_and_2РѓЊu8 [emit_u16(0xf2f1)] [0xf1, 0xf2],
                                    emit_legacy_reg_address_РѓЊ86_64_memory_instruction_with_rex8_and_2РѓЊi8 [emit_u16(0xf2f1)] [-15, -14],
                                    emit_legacy_reg_address_РѓЊ86_64_memory_instruction_with_rex8_and_u16 [emit_u16(0xf2f1)] [0xf2f1],
                                    emit_legacy_reg_address_РѓЊ86_64_memory_instruction_with_rex8_and_i16 [emit_u16(0xf2f1)] [-3343],
                                    emit_legacy_reg_address_РѓЊ86_64_memory_instruction_with_rex8_and_4РѓЊu8
                                        [emit_u32(0xf4f3f2f1)] [0xf1, 0xf2, 0xf3, 0xf4],
                                    emit_legacy_reg_address_РѓЊ86_64_memory_instruction_with_rex8_and_4РѓЊi8
                                        [emit_u32(0xf4f3f2f1)] [-15, -14, -13, -12],
                                    emit_legacy_reg_address_РѓЊ86_64_memory_instruction_with_rex8_and_u32 [emit_u32(0xf4f3f2f1)] [0xf4f3f2f1],
                                    emit_legacy_reg_address_РѓЊ86_64_memory_instruction_with_rex8_and_i32 [emit_u32(0xf4f3f2f1)] [-185339151]],
                                ­ЮЌ»­ЮЌ«­Юўђ­ЮЌХ­ЮЌ░_­ЮЌ«­Юўђ­Юўђ­ЮЌ▓­ЮЌ║­ЮЌ»­ЮЌ╣­ЮЌ▓­ЮЌ┐::­Юља­ЮљЕ_­ЮљФ­Юљъ­Юља­Юљб­Юљг­ЮљГ­Юљъ­ЮљФ_32рхЄРЂ▒рхЌ_РѓЊ86_64,
                                ­ЮЌ»­ЮЌ«­Юўђ­ЮЌХ­ЮЌ░_­ЮЌ«­Юўђ­Юўђ­ЮЌ▓­ЮЌ║­ЮЌ»­ЮЌ╣­ЮЌ▓­ЮЌ┐::­Юљџ­ЮљЮ­ЮљЮ­ЮљФ­Юљъ­Юљг­Юљг_­Юљб­ЮљД­ЮљЮ­Юљъ­Юљ▒_­ЮљФ­Юљъ­Юља­Юљб­Юљг­ЮљГ­Юљъ­ЮљФ_­Юље­ЮљФ_­Юљъ­Юљб­Юљ│_­ЮљФ­Юљъ­Юља­Юљб­Юљг­ЮљГ­Юљъ­ЮљФ_32рхЄРЂ▒рхЌ_РѓЊ86_64,
                                ­ЮЌІ­ЮќЙ­ЮЌђ,
                                ­Юњѓ­ЮњЁ­ЮњЁ­ЮњЊ­Юњє­Юњћ­Юњћ_РѓЊ86<­ЮЌї­ЮќЙ­ЮЌђ­ЮЌє­ЮќЙ­ЮЌЄ­ЮЌЇ ­Юќ╗­Юќ║­ЮЌї­ЮќЙ ­ЮЌѓ­ЮЌЄ­Юќй­ЮќЙ­ЮЌЉ ­ЮЌї­Юќ╝­Юќ║­ЮЌЁ­ЮќЙ ­Юќй­ЮЌѓ­ЮЌї­ЮЌЅ>);
                            ­ЮќЏ­Юќі­ЮќЌ­Юќј­ЮќІ­Юќъ_­Юќі­Юќњ­Юќј­ЮќЎ­ЮќЎ­Юќі­ЮќЌ!(
                                emit_legacy_reg_address_РѓЊ86_64_memory_instruction_with_rexw,
                                [   emit_legacy_reg_address_РѓЊ86_64_memory_instruction_with_rexw_and_u8 [emit_u8(0xf1)] [0xf1],
                                    emit_legacy_reg_address_РѓЊ86_64_memory_instruction_with_rexw_and_i8 [emit_u8(0xf1)] [-15],
                                    emit_legacy_reg_address_РѓЊ86_64_memory_instruction_with_rexw_and_2РѓЊu8 [emit_u16(0xf2f1)] [0xf1, 0xf2],
                                    emit_legacy_reg_address_РѓЊ86_64_memory_instruction_with_rexw_and_2РѓЊi8 [emit_u16(0xf2f1)] [-15, -14],
                                    emit_legacy_reg_address_РѓЊ86_64_memory_instruction_with_rexw_and_u16 [emit_u16(0xf2f1)] [0xf2f1],
                                    emit_legacy_reg_address_РѓЊ86_64_memory_instruction_with_rexw_and_i16 [emit_u16(0xf2f1)] [-3343],
                                    emit_legacy_reg_address_РѓЊ86_64_memory_instruction_with_rexw_and_4РѓЊu8
                                        [emit_u32(0xf4f3f2f1)] [0xf1, 0xf2, 0xf3, 0xf4],
                                    emit_legacy_reg_address_РѓЊ86_64_memory_instruction_with_rexw_and_4РѓЊi8
                                        [emit_u32(0xf4f3f2f1)] [-15, -14, -13, -12],
                                    emit_legacy_reg_address_РѓЊ86_64_memory_instruction_with_rexw_and_u32 [emit_u32(0xf4f3f2f1)] [0xf4f3f2f1],
                                    emit_legacy_reg_address_РѓЊ86_64_memory_instruction_with_rexw_and_i32 [emit_u32(0xf4f3f2f1)] [-185339151]],
                                ­ЮЌ»­ЮЌ«­Юўђ­ЮЌХ­ЮЌ░_­ЮЌ«­Юўђ­Юўђ­ЮЌ▓­ЮЌ║­ЮЌ»­ЮЌ╣­ЮЌ▓­ЮЌ┐::­Юља­ЮљЕ_­ЮљФ­Юљъ­Юља­Юљб­Юљг­ЮљГ­Юљъ­ЮљФ_32рхЄРЂ▒рхЌ_РѓЊ86_64,
                                ­ЮЌ»­ЮЌ«­Юўђ­ЮЌХ­ЮЌ░_­ЮЌ«­Юўђ­Юўђ­ЮЌ▓­ЮЌ║­ЮЌ»­ЮЌ╣­ЮЌ▓­ЮЌ┐::­Юљџ­ЮљЮ­ЮљЮ­ЮљФ­Юљъ­Юљг­Юљг_­Юљб­ЮљД­ЮљЮ­Юљъ­Юљ▒_­ЮљФ­Юљъ­Юља­Юљб­Юљг­ЮљГ­Юљъ­ЮљФ_­Юље­ЮљФ_­Юљъ­Юљб­Юљ│_­ЮљФ­Юљъ­Юља­Юљб­Юљг­ЮљГ­Юљъ­ЮљФ_32рхЄРЂ▒рхЌ_РѓЊ86_64,
                                ­ЮЌІ­ЮќЙ­ЮЌђ,
                                ­Юњѓ­ЮњЁ­ЮњЁ­ЮњЊ­Юњє­Юњћ­Юњћ_РѓЊ86<­ЮЌї­ЮќЙ­ЮЌђ­ЮЌє­ЮќЙ­ЮЌЄ­ЮЌЇ ­Юќ╗­Юќ║­ЮЌї­ЮќЙ ­ЮЌѓ­ЮЌЄ­Юќй­ЮќЙ­ЮЌЉ ­ЮЌї­Юќ╝­Юќ║­ЮЌЁ­ЮќЙ ­Юќй­ЮЌѓ­ЮЌї­ЮЌЅ>);
                        }
                    }
                }
            }
        }
    }
}
